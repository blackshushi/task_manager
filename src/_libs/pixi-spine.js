var pixi_spine,__extends=this&&this.__extends||function(){var r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}();!function(t){!function(N){var D,t,v,e,r,n,X=function(){function t(t,e,n){if(null==t)throw new Error("name cannot be null.");if(null==e)throw new Error("timelines cannot be null.");this.name=t,this.timelines=e,this.duration=n}return t.prototype.apply=function(t,e,n,r,i,a,o,s){if(null==t)throw new Error("skeleton cannot be null.");r&&0!=this.duration&&(n%=this.duration,0<e&&(e%=this.duration));for(var l=this.timelines,h=0,u=l.length;h<u;h++)l[h].apply(t,e,n,i,a,o,s)},t.binarySearch=function(t,e,n){void 0===n&&(n=1);var r=0,i=t.length/n-2;if(0==i)return n;for(var a=i>>>1;;){if(t[(a+1)*n]<=e?r=a+1:i=a,r==i)return(r+1)*n;a=r+i>>>1}},t.linearSearch=function(t,e,n){for(var r=0,i=t.length-n;r<=i;r+=n)if(t[r]>e)return r;return-1},t}();N.Animation=X,(t=D=N.MixPose||(N.MixPose={}))[t.setup=0]="setup",t[t.current=1]="current",t[t.currentLayered=2]="currentLayered",(e=v=N.MixDirection||(N.MixDirection={}))[e.in=0]="in",e[e.out=1]="out",(n=r=N.TimelineType||(N.TimelineType={}))[n.rotate=0]="rotate",n[n.translate=1]="translate",n[n.scale=2]="scale",n[n.shear=3]="shear",n[n.attachment=4]="attachment",n[n.color=5]="color",n[n.deform=6]="deform",n[n.event=7]="event",n[n.drawOrder=8]="drawOrder",n[n.ikConstraint=9]="ikConstraint",n[n.transformConstraint=10]="transformConstraint",n[n.pathConstraintPosition=11]="pathConstraintPosition",n[n.pathConstraintSpacing=12]="pathConstraintSpacing",n[n.pathConstraintMix=13]="pathConstraintMix",n[n.twoColor=14]="twoColor";var i=function(){function y(t){if(t<=0)throw new Error("frameCount must be > 0: "+t);this.curves=N.Utils.newFloatArray((t-1)*y.BEZIER_SIZE)}return y.prototype.getFrameCount=function(){return this.curves.length/y.BEZIER_SIZE+1},y.prototype.setLinear=function(t){this.curves[t*y.BEZIER_SIZE]=y.LINEAR},y.prototype.setStepped=function(t){this.curves[t*y.BEZIER_SIZE]=y.STEPPED},y.prototype.getCurveType=function(t){var e=t*y.BEZIER_SIZE;if(e==this.curves.length)return y.LINEAR;var n=this.curves[e];return n==y.LINEAR?y.LINEAR:n==y.STEPPED?y.STEPPED:y.BEZIER},y.prototype.setCurve=function(t,e,n,r,i){var a=.03*(2*-e+r),o=.03*(2*-n+i),s=.006*(3*(e-r)+1),l=.006*(3*(n-i)+1),h=2*a+s,u=2*o+l,c=.3*e+a+.16666667*s,p=.3*n+o+.16666667*l,f=t*y.BEZIER_SIZE,d=this.curves;d[f++]=y.BEZIER;for(var m=c,g=p,v=f+y.BEZIER_SIZE-1;f<v;f+=2)d[f]=m,d[f+1]=g,c+=h,p+=u,h+=s,u+=l,m+=c,g+=p},y.prototype.getCurvePercent=function(t,e){e=N.MathUtils.clamp(e,0,1);var n=this.curves,r=t*y.BEZIER_SIZE,i=n[r];if(i==y.LINEAR)return e;if(i==y.STEPPED)return 0;for(var a=0,o=++r,s=r+y.BEZIER_SIZE-1;r<s;r+=2)if(e<=(a=n[r])){var l=void 0,h=void 0;return r==o?h=l=0:(l=n[r-2],h=n[r-1]),h+(n[r+1]-h)*(e-l)/(a-l)}var u=n[r-1];return u+(1-u)*(e-a)/(1-a)},y.LINEAR=0,y.STEPPED=1,y.BEZIER=2,y.BEZIER_SIZE=19,y}(),a=function(n){function g(t){var e=n.call(this,t)||this;return e.frames=N.Utils.newFloatArray(t<<1),e}return __extends(g,n),g.prototype.getPropertyId=function(){return(r.rotate<<24)+this.boneIndex},g.prototype.setFrame=function(t,e,n){t<<=1,this.frames[t]=e,this.frames[t+g.ROTATION]=n},g.prototype.apply=function(t,e,n,r,i,a,o){var s=this.frames,l=t.bones[this.boneIndex];if(n<s[0])switch(a){case D.setup:return void(l.rotation=l.data.rotation);case D.current:var h=l.data.rotation-l.rotation;h-=360*(16384-(16384.499999999996-h/360|0)),l.rotation+=h*i}else if(n>=s[s.length-g.ENTRIES])if(a==D.setup)l.rotation=l.data.rotation+s[s.length+g.PREV_ROTATION]*i;else{var u=l.data.rotation+s[s.length+g.PREV_ROTATION]-l.rotation;u-=360*(16384-(16384.499999999996-u/360|0)),l.rotation+=u*i}else{var c=X.binarySearch(s,n,g.ENTRIES),p=s[c+g.PREV_ROTATION],f=s[c],d=this.getCurvePercent((c>>1)-1,1-(n-f)/(s[c+g.PREV_TIME]-f)),m=s[c+g.ROTATION]-p;m=p+(m-=360*(16384-(16384.499999999996-m/360|0)))*d,a==D.setup?(m-=360*(16384-(16384.499999999996-m/360|0)),l.rotation=l.data.rotation+m*i):(m=l.data.rotation+m-l.rotation,m-=360*(16384-(16384.499999999996-m/360|0)),l.rotation+=m*i)}},g.ENTRIES=2,g.PREV_TIME=-2,g.PREV_ROTATION=-1,g.ROTATION=1,g}(N.CurveTimeline=i);N.RotateTimeline=a;var o=function(n){function d(t){var e=n.call(this,t)||this;return e.frames=N.Utils.newFloatArray(t*d.ENTRIES),e}return __extends(d,n),d.prototype.getPropertyId=function(){return(r.translate<<24)+this.boneIndex},d.prototype.setFrame=function(t,e,n,r){t*=d.ENTRIES,this.frames[t]=e,this.frames[t+d.X]=n,this.frames[t+d.Y]=r},d.prototype.apply=function(t,e,n,r,i,a,o){var s=this.frames,l=t.bones[this.boneIndex];if(n<s[0])switch(a){case D.setup:return l.x=l.data.x,void(l.y=l.data.y);case D.current:l.x+=(l.data.x-l.x)*i,l.y+=(l.data.y-l.y)*i}else{var h=0,u=0;if(n>=s[s.length-d.ENTRIES])h=s[s.length+d.PREV_X],u=s[s.length+d.PREV_Y];else{var c=X.binarySearch(s,n,d.ENTRIES);h=s[c+d.PREV_X],u=s[c+d.PREV_Y];var p=s[c],f=this.getCurvePercent(c/d.ENTRIES-1,1-(n-p)/(s[c+d.PREV_TIME]-p));h+=(s[c+d.X]-h)*f,u+=(s[c+d.Y]-u)*f}a==D.setup?(l.x=l.data.x+h*i,l.y=l.data.y+u*i):(l.x+=(l.data.x+h-l.x)*i,l.y+=(l.data.y+u-l.y)*i)}},d.ENTRIES=3,d.PREV_TIME=-3,d.PREV_X=-2,d.PREV_Y=-1,d.X=1,d.Y=2,d}(i),s=function(e){function g(t){return e.call(this,t)||this}return __extends(g,e),g.prototype.getPropertyId=function(){return(r.scale<<24)+this.boneIndex},g.prototype.apply=function(t,e,n,r,i,a,o){var s=this.frames,l=t.bones[this.boneIndex];if(n<s[0])switch(a){case D.setup:return l.scaleX=l.data.scaleX,void(l.scaleY=l.data.scaleY);case D.current:l.scaleX+=(l.data.scaleX-l.scaleX)*i,l.scaleY+=(l.data.scaleY-l.scaleY)*i}else{var h=0,u=0;if(n>=s[s.length-g.ENTRIES])h=s[s.length+g.PREV_X]*l.data.scaleX,u=s[s.length+g.PREV_Y]*l.data.scaleY;else{var c=X.binarySearch(s,n,g.ENTRIES);h=s[c+g.PREV_X],u=s[c+g.PREV_Y];var p=s[c],f=this.getCurvePercent(c/g.ENTRIES-1,1-(n-p)/(s[c+g.PREV_TIME]-p));h=(h+(s[c+g.X]-h)*f)*l.data.scaleX,u=(u+(s[c+g.Y]-u)*f)*l.data.scaleY}if(1==i)l.scaleX=h,l.scaleY=u;else{var d=0,m=0;a==D.setup?(d=l.data.scaleX,m=l.data.scaleY):(d=l.scaleX,m=l.scaleY),o==v.out?(h=Math.abs(h)*N.MathUtils.signum(d),u=Math.abs(u)*N.MathUtils.signum(m)):(d=Math.abs(d)*N.MathUtils.signum(h),m=Math.abs(m)*N.MathUtils.signum(u)),l.scaleX=d+(h-d)*i,l.scaleY=m+(u-m)*i}}},g}(N.TranslateTimeline=o);N.ScaleTimeline=s;var l=function(e){function d(t){return e.call(this,t)||this}return __extends(d,e),d.prototype.getPropertyId=function(){return(r.shear<<24)+this.boneIndex},d.prototype.apply=function(t,e,n,r,i,a,o){var s=this.frames,l=t.bones[this.boneIndex];if(n<s[0])switch(a){case D.setup:return l.shearX=l.data.shearX,void(l.shearY=l.data.shearY);case D.current:l.shearX+=(l.data.shearX-l.shearX)*i,l.shearY+=(l.data.shearY-l.shearY)*i}else{var h=0,u=0;if(n>=s[s.length-d.ENTRIES])h=s[s.length+d.PREV_X],u=s[s.length+d.PREV_Y];else{var c=X.binarySearch(s,n,d.ENTRIES);h=s[c+d.PREV_X],u=s[c+d.PREV_Y];var p=s[c],f=this.getCurvePercent(c/d.ENTRIES-1,1-(n-p)/(s[c+d.PREV_TIME]-p));h+=(s[c+d.X]-h)*f,u+=(s[c+d.Y]-u)*f}a==D.setup?(l.shearX=l.data.shearX+h*i,l.shearY=l.data.shearY+u*i):(l.shearX+=(l.data.shearX+h-l.shearX)*i,l.shearY+=(l.data.shearY+u-l.shearY)*i)}},d}(o);N.ShearTimeline=l;var h=function(n){function x(t){var e=n.call(this,t)||this;return e.frames=N.Utils.newFloatArray(t*x.ENTRIES),e}return __extends(x,n),x.prototype.getPropertyId=function(){return(r.color<<24)+this.slotIndex},x.prototype.setFrame=function(t,e,n,r,i,a){t*=x.ENTRIES,this.frames[t]=e,this.frames[t+x.R]=n,this.frames[t+x.G]=r,this.frames[t+x.B]=i,this.frames[t+x.A]=a},x.prototype.apply=function(t,e,n,r,i,a,o){var s=t.slots[this.slotIndex],l=this.frames;if(n<l[0])switch(a){case D.setup:return void s.color.setFromColor(s.data.color);case D.current:var h=s.color,u=s.data.color;h.add((u.r-h.r)*i,(u.g-h.g)*i,(u.b-h.b)*i,(u.a-h.a)*i)}else{var c=0,p=0,f=0,d=0;if(n>=l[l.length-x.ENTRIES]){var m=l.length;c=l[m+x.PREV_R],p=l[m+x.PREV_G],f=l[m+x.PREV_B],d=l[m+x.PREV_A]}else{var g=X.binarySearch(l,n,x.ENTRIES);c=l[g+x.PREV_R],p=l[g+x.PREV_G],f=l[g+x.PREV_B],d=l[g+x.PREV_A];var v=l[g],y=this.getCurvePercent(g/x.ENTRIES-1,1-(n-v)/(l[g+x.PREV_TIME]-v));c+=(l[g+x.R]-c)*y,p+=(l[g+x.G]-p)*y,f+=(l[g+x.B]-f)*y,d+=(l[g+x.A]-d)*y}if(1==i)s.color.set(c,p,f,d);else{h=s.color;a==D.setup&&h.setFromColor(s.data.color),h.add((c-h.r)*i,(p-h.g)*i,(f-h.b)*i,(d-h.a)*i)}}},x.ENTRIES=5,x.PREV_TIME=-5,x.PREV_R=-4,x.PREV_G=-3,x.PREV_B=-2,x.PREV_A=-1,x.R=1,x.G=2,x.B=3,x.A=4,x}(i);N.ColorTimeline=h;var u=function(n){function b(t){var e=n.call(this,t)||this;return e.frames=N.Utils.newFloatArray(t*b.ENTRIES),e}return __extends(b,n),b.prototype.getPropertyId=function(){return(r.twoColor<<24)+this.slotIndex},b.prototype.setFrame=function(t,e,n,r,i,a,o,s,l){t*=b.ENTRIES,this.frames[t]=e,this.frames[t+b.R]=n,this.frames[t+b.G]=r,this.frames[t+b.B]=i,this.frames[t+b.A]=a,this.frames[t+b.R2]=o,this.frames[t+b.G2]=s,this.frames[t+b.B2]=l},b.prototype.apply=function(t,e,n,r,i,a,o){var s=t.slots[this.slotIndex],l=this.frames;if(n<l[0])switch(a){case D.setup:return s.color.setFromColor(s.data.color),void s.darkColor.setFromColor(s.data.darkColor);case D.current:var h=s.color,u=s.darkColor,c=s.data.color,p=s.data.darkColor;h.add((c.r-h.r)*i,(c.g-h.g)*i,(c.b-h.b)*i,(c.a-h.a)*i),u.add((p.r-u.r)*i,(p.g-u.g)*i,(p.b-u.b)*i,0)}else{var f=0,d=0,m=0,g=0,v=0,y=0,x=0;if(n>=l[l.length-b.ENTRIES]){var M=l.length;f=l[M+b.PREV_R],d=l[M+b.PREV_G],m=l[M+b.PREV_B],g=l[M+b.PREV_A],v=l[M+b.PREV_R2],y=l[M+b.PREV_G2],x=l[M+b.PREV_B2]}else{var w=X.binarySearch(l,n,b.ENTRIES);f=l[w+b.PREV_R],d=l[w+b.PREV_G],m=l[w+b.PREV_B],g=l[w+b.PREV_A],v=l[w+b.PREV_R2],y=l[w+b.PREV_G2],x=l[w+b.PREV_B2];var E=l[w],T=this.getCurvePercent(w/b.ENTRIES-1,1-(n-E)/(l[w+b.PREV_TIME]-E));f+=(l[w+b.R]-f)*T,d+=(l[w+b.G]-d)*T,m+=(l[w+b.B]-m)*T,g+=(l[w+b.A]-g)*T,v+=(l[w+b.R2]-v)*T,y+=(l[w+b.G2]-y)*T,x+=(l[w+b.B2]-x)*T}if(1==i)s.color.set(f,d,m,g),s.darkColor.set(v,y,x,1);else{h=s.color,u=s.darkColor;a==D.setup&&(h.setFromColor(s.data.color),u.setFromColor(s.data.darkColor)),h.add((f-h.r)*i,(d-h.g)*i,(m-h.b)*i,(g-h.a)*i),u.add((v-u.r)*i,(y-u.g)*i,(x-u.b)*i,0)}}},b.ENTRIES=8,b.PREV_TIME=-8,b.PREV_R=-7,b.PREV_G=-6,b.PREV_B=-5,b.PREV_A=-4,b.PREV_R2=-3,b.PREV_G2=-2,b.PREV_B2=-1,b.R=1,b.G=2,b.B=3,b.A=4,b.R2=5,b.G2=6,b.B2=7,b}(i);N.TwoColorTimeline=u;var c=function(){function t(t){this.frames=N.Utils.newFloatArray(t),this.attachmentNames=new Array(t)}return t.prototype.getPropertyId=function(){return(r.attachment<<24)+this.slotIndex},t.prototype.getFrameCount=function(){return this.frames.length},t.prototype.setFrame=function(t,e,n){this.frames[t]=e,this.attachmentNames[t]=n},t.prototype.apply=function(t,e,n,r,i,a,o){var s=t.slots[this.slotIndex];if(o!=v.out||a!=D.setup){var l=this.frames;if(n<l[0]){if(a==D.setup){var h=s.data.attachmentName;s.setAttachment(null==h?null:t.getAttachment(this.slotIndex,h))}}else{var u=0;u=n>=l[l.length-1]?l.length-1:X.binarySearch(l,n,1)-1;var c=this.attachmentNames[u];t.slots[this.slotIndex].setAttachment(null==c?null:t.getAttachment(this.slotIndex,c))}}else{var p=s.data.attachmentName;s.setAttachment(null==p?null:t.getAttachment(this.slotIndex,p))}},t}();N.AttachmentTimeline=c;var U=null,p=function(n){function t(t){var e=n.call(this,t)||this;return e.frames=N.Utils.newFloatArray(t),e.frameVertices=new Array(t),null==U&&(U=N.Utils.newFloatArray(64)),e}return __extends(t,n),t.prototype.getPropertyId=function(){return(r.deform<<27)+ +this.attachment.id+this.slotIndex},t.prototype.setFrame=function(t,e,n){this.frames[t]=e,this.frameVertices[t]=n},t.prototype.apply=function(t,e,n,r,i,a,o){var s=t.slots[this.slotIndex],l=s.getAttachment();if(l instanceof N.VertexAttachment&&l.applyDeform(this.attachment)){var h=s.attachmentVertices,u=this.frameVertices,c=u[0].length,p=N.Utils.setArraySize(h,c),f=this.frames;if(n<f[0]){var d=l;switch(a){case D.setup:var m=void 0;return null==d.bones?m=d.vertices:(m=U).length<c&&(U=m=N.Utils.newFloatArray(c)),void N.Utils.arrayCopy(m,0,p,0,c);case D.current:if(1==i)break;if(null==d.bones)for(var g=d.vertices,v=0;v<c;v++)p[v]+=(g[v]-p[v])*i;else{i=1-i;for(var y=0;y<c;y++)p[y]*=i}}}else if(n>=f[f.length-1]){var x=u[f.length-1];if(1==i)N.Utils.arrayCopy(x,0,p,0,c);else if(a==D.setup){if(null==(d=l).bones){g=d.vertices;for(var M=0;M<c;M++){var w=g[M];p[M]=w+(x[M]-w)*i}}else for(var E=0;E<c;E++)p[E]=x[E]*i}else for(var T=0;T<c;T++)p[T]+=(x[T]-p[T])*i}else{var b=X.binarySearch(f,n),A=u[b-1],I=u[b],S=f[b],R=this.getCurvePercent(b-1,1-(n-S)/(f[b-1]-S));if(1==i)for(var P=0;P<c;P++){var C=A[P];p[P]=C+(I[P]-C)*R}else if(a==D.setup){if(null==(d=l).bones){g=d.vertices;for(var _=0;_<c;_++){C=A[_],w=g[_];p[_]=w+(C+(I[_]-C)*R-w)*i}}else for(var V=0;V<c;V++){C=A[V];p[V]=(C+(I[V]-C)*R)*i}}else for(var k=0;k<c;k++){C=A[k];p[k]+=(C+(I[k]-C)*R-p[k])*i}}}},t}(i);N.DeformTimeline=p;var f=function(){function t(t){this.frames=N.Utils.newFloatArray(t),this.events=new Array(t)}return t.prototype.getPropertyId=function(){return r.event<<24},t.prototype.getFrameCount=function(){return this.frames.length},t.prototype.setFrame=function(t,e){this.frames[t]=e.time,this.events[t]=e},t.prototype.apply=function(t,e,n,r,i,a,o){if(null!=r){var s=this.frames,l=this.frames.length;if(n<e)this.apply(t,e,Number.MAX_VALUE,r,i,a,o),e=-1;else if(e>=s[l-1])return;if(!(n<s[0])){var h=0;if(e<s[0])h=0;else for(var u=s[h=X.binarySearch(s,e)];0<h&&s[h-1]==u;)h--;for(;h<l&&n>=s[h];h++)r.push(this.events[h])}}},t}();N.EventTimeline=f;var d=function(){function t(t){this.frames=N.Utils.newFloatArray(t),this.drawOrders=new Array(t)}return t.prototype.getPropertyId=function(){return r.drawOrder<<24},t.prototype.getFrameCount=function(){return this.frames.length},t.prototype.setFrame=function(t,e,n){this.frames[t]=e,this.drawOrders[t]=n},t.prototype.apply=function(t,e,n,r,i,a,o){var s=t.drawOrder,l=t.slots;if(o!=v.out||a!=D.setup){var h=this.frames;if(n<h[0])a==D.setup&&N.Utils.arrayCopy(t.slots,0,t.drawOrder,0,t.slots.length);else{var u=0;u=n>=h[h.length-1]?h.length-1:X.binarySearch(h,n)-1;var c=this.drawOrders[u];if(null==c)N.Utils.arrayCopy(l,0,s,0,l.length);else for(var p=0,f=c.length;p<f;p++)s[p]=l[c[p]]}}else N.Utils.arrayCopy(t.slots,0,t.drawOrder,0,t.slots.length)},t}();N.DrawOrderTimeline=d;var m=function(n){function f(t){var e=n.call(this,t)||this;return e.frames=N.Utils.newFloatArray(t*f.ENTRIES),e}return __extends(f,n),f.prototype.getPropertyId=function(){return(r.ikConstraint<<24)+this.ikConstraintIndex},f.prototype.setFrame=function(t,e,n,r){t*=f.ENTRIES,this.frames[t]=e,this.frames[t+f.MIX]=n,this.frames[t+f.BEND_DIRECTION]=r},f.prototype.apply=function(t,e,n,r,i,a,o){var s=this.frames,l=t.ikConstraints[this.ikConstraintIndex];if(n<s[0])switch(a){case D.setup:return l.mix=l.data.mix,void(l.bendDirection=l.data.bendDirection);case D.current:l.mix+=(l.data.mix-l.mix)*i,l.bendDirection=l.data.bendDirection}else if(n>=s[s.length-f.ENTRIES])a==D.setup?(l.mix=l.data.mix+(s[s.length+f.PREV_MIX]-l.data.mix)*i,l.bendDirection=o==v.out?l.data.bendDirection:s[s.length+f.PREV_BEND_DIRECTION]):(l.mix+=(s[s.length+f.PREV_MIX]-l.mix)*i,o==v.in&&(l.bendDirection=s[s.length+f.PREV_BEND_DIRECTION]));else{var h=X.binarySearch(s,n,f.ENTRIES),u=s[h+f.PREV_MIX],c=s[h],p=this.getCurvePercent(h/f.ENTRIES-1,1-(n-c)/(s[h+f.PREV_TIME]-c));a==D.setup?(l.mix=l.data.mix+(u+(s[h+f.MIX]-u)*p-l.data.mix)*i,l.bendDirection=o==v.out?l.data.bendDirection:s[h+f.PREV_BEND_DIRECTION]):(l.mix+=(u+(s[h+f.MIX]-u)*p-l.mix)*i,o==v.in&&(l.bendDirection=s[h+f.PREV_BEND_DIRECTION]))}},f.ENTRIES=3,f.PREV_TIME=-3,f.PREV_MIX=-2,f.PREV_BEND_DIRECTION=-1,f.MIX=1,f.BEND_DIRECTION=2,f}(i);N.IkConstraintTimeline=m;var g=function(n){function y(t){var e=n.call(this,t)||this;return e.frames=N.Utils.newFloatArray(t*y.ENTRIES),e}return __extends(y,n),y.prototype.getPropertyId=function(){return(r.transformConstraint<<24)+this.transformConstraintIndex},y.prototype.setFrame=function(t,e,n,r,i,a){t*=y.ENTRIES,this.frames[t]=e,this.frames[t+y.ROTATE]=n,this.frames[t+y.TRANSLATE]=r,this.frames[t+y.SCALE]=i,this.frames[t+y.SHEAR]=a},y.prototype.apply=function(t,e,n,r,i,a,o){var s=this.frames,l=t.transformConstraints[this.transformConstraintIndex];if(n<s[0]){var h=l.data;switch(a){case D.setup:return l.rotateMix=h.rotateMix,l.translateMix=h.translateMix,l.scaleMix=h.scaleMix,void(l.shearMix=h.shearMix);case D.current:l.rotateMix+=(h.rotateMix-l.rotateMix)*i,l.translateMix+=(h.translateMix-l.translateMix)*i,l.scaleMix+=(h.scaleMix-l.scaleMix)*i,l.shearMix+=(h.shearMix-l.shearMix)*i}}else{var u=0,c=0,p=0,f=0;if(n>=s[s.length-y.ENTRIES]){var d=s.length;u=s[d+y.PREV_ROTATE],c=s[d+y.PREV_TRANSLATE],p=s[d+y.PREV_SCALE],f=s[d+y.PREV_SHEAR]}else{var m=X.binarySearch(s,n,y.ENTRIES);u=s[m+y.PREV_ROTATE],c=s[m+y.PREV_TRANSLATE],p=s[m+y.PREV_SCALE],f=s[m+y.PREV_SHEAR];var g=s[m],v=this.getCurvePercent(m/y.ENTRIES-1,1-(n-g)/(s[m+y.PREV_TIME]-g));u+=(s[m+y.ROTATE]-u)*v,c+=(s[m+y.TRANSLATE]-c)*v,p+=(s[m+y.SCALE]-p)*v,f+=(s[m+y.SHEAR]-f)*v}if(a==D.setup){h=l.data;l.rotateMix=h.rotateMix+(u-h.rotateMix)*i,l.translateMix=h.translateMix+(c-h.translateMix)*i,l.scaleMix=h.scaleMix+(p-h.scaleMix)*i,l.shearMix=h.shearMix+(f-h.shearMix)*i}else l.rotateMix+=(u-l.rotateMix)*i,l.translateMix+=(c-l.translateMix)*i,l.scaleMix+=(p-l.scaleMix)*i,l.shearMix+=(f-l.shearMix)*i}},y.ENTRIES=5,y.PREV_TIME=-5,y.PREV_ROTATE=-4,y.PREV_TRANSLATE=-3,y.PREV_SCALE=-2,y.PREV_SHEAR=-1,y.ROTATE=1,y.TRANSLATE=2,y.SCALE=3,y.SHEAR=4,y}(i);N.TransformConstraintTimeline=g;var y=function(n){function f(t){var e=n.call(this,t)||this;return e.frames=N.Utils.newFloatArray(t*f.ENTRIES),e}return __extends(f,n),f.prototype.getPropertyId=function(){return(r.pathConstraintPosition<<24)+this.pathConstraintIndex},f.prototype.setFrame=function(t,e,n){t*=f.ENTRIES,this.frames[t]=e,this.frames[t+f.VALUE]=n},f.prototype.apply=function(t,e,n,r,i,a,o){var s=this.frames,l=t.pathConstraints[this.pathConstraintIndex];if(n<s[0])switch(a){case D.setup:return void(l.position=l.data.position);case D.current:l.position+=(l.data.position-l.position)*i}else{var h=0;if(n>=s[s.length-f.ENTRIES])h=s[s.length+f.PREV_VALUE];else{var u=X.binarySearch(s,n,f.ENTRIES);h=s[u+f.PREV_VALUE];var c=s[u],p=this.getCurvePercent(u/f.ENTRIES-1,1-(n-c)/(s[u+f.PREV_TIME]-c));h+=(s[u+f.VALUE]-h)*p}a==D.setup?l.position=l.data.position+(h-l.data.position)*i:l.position+=(h-l.position)*i}},f.ENTRIES=2,f.PREV_TIME=-2,f.PREV_VALUE=-1,f.VALUE=1,f}(i),x=function(e){function f(t){return e.call(this,t)||this}return __extends(f,e),f.prototype.getPropertyId=function(){return(r.pathConstraintSpacing<<24)+this.pathConstraintIndex},f.prototype.apply=function(t,e,n,r,i,a,o){var s=this.frames,l=t.pathConstraints[this.pathConstraintIndex];if(n<s[0])switch(a){case D.setup:return void(l.spacing=l.data.spacing);case D.current:l.spacing+=(l.data.spacing-l.spacing)*i}else{var h=0;if(n>=s[s.length-f.ENTRIES])h=s[s.length+f.PREV_VALUE];else{var u=X.binarySearch(s,n,f.ENTRIES);h=s[u+f.PREV_VALUE];var c=s[u],p=this.getCurvePercent(u/f.ENTRIES-1,1-(n-c)/(s[u+f.PREV_TIME]-c));h+=(s[u+f.VALUE]-h)*p}a==D.setup?l.spacing=l.data.spacing+(h-l.data.spacing)*i:l.spacing+=(h-l.spacing)*i}},f}(N.PathConstraintPositionTimeline=y);N.PathConstraintSpacingTimeline=x;var M=function(n){function d(t){var e=n.call(this,t)||this;return e.frames=N.Utils.newFloatArray(t*d.ENTRIES),e}return __extends(d,n),d.prototype.getPropertyId=function(){return(r.pathConstraintMix<<24)+this.pathConstraintIndex},d.prototype.setFrame=function(t,e,n,r){t*=d.ENTRIES,this.frames[t]=e,this.frames[t+d.ROTATE]=n,this.frames[t+d.TRANSLATE]=r},d.prototype.apply=function(t,e,n,r,i,a,o){var s=this.frames,l=t.pathConstraints[this.pathConstraintIndex];if(n<s[0])switch(a){case D.setup:return l.rotateMix=l.data.rotateMix,void(l.translateMix=l.data.translateMix);case D.current:l.rotateMix+=(l.data.rotateMix-l.rotateMix)*i,l.translateMix+=(l.data.translateMix-l.translateMix)*i}else{var h=0,u=0;if(n>=s[s.length-d.ENTRIES])h=s[s.length+d.PREV_ROTATE],u=s[s.length+d.PREV_TRANSLATE];else{var c=X.binarySearch(s,n,d.ENTRIES);h=s[c+d.PREV_ROTATE],u=s[c+d.PREV_TRANSLATE];var p=s[c],f=this.getCurvePercent(c/d.ENTRIES-1,1-(n-p)/(s[c+d.PREV_TIME]-p));h+=(s[c+d.ROTATE]-h)*f,u+=(s[c+d.TRANSLATE]-u)*f}a==D.setup?(l.rotateMix=l.data.rotateMix+(h-l.data.rotateMix)*i,l.translateMix=l.data.translateMix+(u-l.data.translateMix)*i):(l.rotateMix+=(h-l.rotateMix)*i,l.translateMix+=(u-l.translateMix)*i)}},d.ENTRIES=3,d.PREV_TIME=-3,d.PREV_ROTATE=-2,d.PREV_TRANSLATE=-1,d.ROTATE=1,d.TRANSLATE=2,d}(i);N.PathConstraintMixTimeline=M}(t.core||(t.core={}))}(pixi_spine||(pixi_spine={})),function(t){!function(b){var d=function(){function T(t){this.tracks=new Array,this.events=new Array,this.listeners=new Array,this.queue=new n(this),this.propertyIDs=new b.IntSet,this.mixingTo=new Array,this.animationsChanged=!1,this.timeScale=1,this.trackEntryPool=new b.Pool(function(){return new e}),this.data=t}return T.prototype.update=function(t){t*=this.timeScale;for(var e=this.tracks,n=0,r=e.length;n<r;n++){var i=e[n];if(null!=i){i.animationLast=i.nextAnimationLast,i.trackLast=i.nextTrackLast;var a=t*i.timeScale;if(0<i.delay){if(i.delay-=a,0<i.delay)continue;a=-i.delay,i.delay=0}var o=i.next;if(null!=o){var s=i.trackLast-o.delay;if(0<=s){for(o.delay=0,o.trackTime=s+t*o.timeScale,i.trackTime+=a,this.setCurrent(n,o,!0);null!=o.mixingFrom;)o.mixTime+=a,o=o.mixingFrom;continue}}else if(i.trackLast>=i.trackEnd&&null==i.mixingFrom){e[n]=null,this.queue.end(i),this.disposeNext(i);continue}if(null!=i.mixingFrom&&this.updateMixingFrom(i,t)){var l=i.mixingFrom;for(i.mixingFrom=null;null!=l;)this.queue.end(l),l=l.mixingFrom}i.trackTime+=a}}this.queue.drain()},T.prototype.updateMixingFrom=function(t,e){var n=t.mixingFrom;if(null==n)return!0;var r=this.updateMixingFrom(n,e);return 0<t.mixTime&&(t.mixTime>=t.mixDuration||0==t.timeScale)?(0==n.totalAlpha&&(t.mixingFrom=n.mixingFrom,t.interruptAlpha=n.interruptAlpha,this.queue.end(n)),r):(n.animationLast=n.nextAnimationLast,n.trackLast=n.nextTrackLast,n.trackTime+=e*n.timeScale,t.mixTime+=e*t.timeScale,!1)},T.prototype.apply=function(t){if(null==t)throw new Error("skeleton cannot be null.");this.animationsChanged&&this._animationsChanged();for(var e=this.events,n=this.tracks,r=!1,i=0,a=n.length;i<a;i++){var o=n[i];if(!(null==o||0<o.delay)){r=!0;var s=0==i?b.MixPose.current:b.MixPose.currentLayered,l=o.alpha;null!=o.mixingFrom?l*=this.applyMixingFrom(o,t,s):o.trackTime>=o.trackEnd&&null==o.next&&(l=0);var h=o.animationLast,u=o.getAnimationTime(),c=o.animation.timelines.length,p=o.animation.timelines;if(1==l)for(var f=0;f<c;f++)p[f].apply(t,h,u,e,1,b.MixPose.setup,b.MixDirection.in);else{var d=o.timelineData,m=0==o.timelinesRotation.length;m&&b.Utils.setArraySize(o.timelinesRotation,c<<1,null);var g=o.timelinesRotation;for(f=0;f<c;f++){var v=p[f],y=d[f]>=T.FIRST?b.MixPose.setup:s;v instanceof b.RotateTimeline?this.applyRotateTimeline(v,t,u,l,y,g,f<<1,m):v.apply(t,h,u,e,l,y,b.MixDirection.in)}}this.queueEvents(o,u),e.length=0,o.nextAnimationLast=u,o.nextTrackLast=o.trackTime}}return this.queue.drain(),r},T.prototype.applyMixingFrom=function(t,e,n){var r=t.mixingFrom;null!=r.mixingFrom&&this.applyMixingFrom(r,e,n);var i=0;0==t.mixDuration?i=1:1<(i=t.mixTime/t.mixDuration)&&(i=1);var a=i<r.eventThreshold?this.events:null,o=i<r.attachmentThreshold,s=i<r.drawOrderThreshold,l=r.animationLast,h=r.getAnimationTime(),u=r.animation.timelines.length,c=r.animation.timelines,p=r.timelineData,f=r.timelineDipMix,d=0==r.timelinesRotation.length;d&&b.Utils.setArraySize(r.timelinesRotation,u<<1,null);for(var m,g=r.timelinesRotation,v=r.alpha*t.interruptAlpha,y=v*(1-i),x=0,M=r.totalAlpha=0;M<u;M++){var w=c[M];switch(p[M]){case T.SUBSEQUENT:if(!o&&w instanceof b.AttachmentTimeline)continue;if(!s&&w instanceof b.DrawOrderTimeline)continue;m=n,x=y;break;case T.FIRST:m=b.MixPose.setup,x=y;break;case T.DIP:m=b.MixPose.setup,x=v;break;default:m=b.MixPose.setup,x=v;var E=f[M];x*=Math.max(0,1-E.mixTime/E.mixDuration)}r.totalAlpha+=x,w instanceof b.RotateTimeline?this.applyRotateTimeline(w,e,h,x,m,g,M<<1,d):w.apply(e,l,h,a,x,m,b.MixDirection.out)}return 0<t.mixDuration&&this.queueEvents(r,h),this.events.length=0,r.nextAnimationLast=h,r.nextTrackLast=r.trackTime,i},T.prototype.applyRotateTimeline=function(t,e,n,r,i,a,o,s){if(s&&(a[o]=0),1!=r){var l=t,h=l.frames,u=e.bones[l.boneIndex];if(n<h[0])i==b.MixPose.setup&&(u.rotation=u.data.rotation);else{var c=0;if(n>=h[h.length-b.RotateTimeline.ENTRIES])c=u.data.rotation+h[h.length+b.RotateTimeline.PREV_ROTATION];else{var p=b.Animation.binarySearch(h,n,b.RotateTimeline.ENTRIES),f=h[p+b.RotateTimeline.PREV_ROTATION],d=h[p],m=l.getCurvePercent((p>>1)-1,1-(n-d)/(h[p+b.RotateTimeline.PREV_TIME]-d));c=h[p+b.RotateTimeline.ROTATION]-f,c=f+(c-=360*(16384-(16384.499999999996-c/360|0)))*m+u.data.rotation,c-=360*(16384-(16384.499999999996-c/360|0))}var g=i==b.MixPose.setup?u.data.rotation:u.rotation,v=0,y=c-g;if(0==y)v=a[o];else{y-=360*(16384-(16384.499999999996-y/360|0));var x=0,M=0;s?(x=0,M=y):(x=a[o],M=a[o+1]);var w=0<y,E=0<=x;b.MathUtils.signum(M)!=b.MathUtils.signum(y)&&Math.abs(M)<=90&&(180<Math.abs(x)&&(x+=360*b.MathUtils.signum(x)),E=w),v=y+x-x%360,E!=w&&(v+=360*b.MathUtils.signum(x)),a[o]=v}a[o+1]=y,g+=v*r,u.rotation=g-360*(16384-(16384.499999999996-g/360|0))}}else t.apply(e,0,n,null,1,i,b.MixDirection.in)},T.prototype.queueEvents=function(t,e){for(var n=t.animationStart,r=t.animationEnd,i=r-n,a=t.trackLast%i,o=this.events,s=0,l=o.length;s<l;s++){var h=o[s];if(h.time<a)break;h.time>r||this.queue.event(t,h)}for((t.loop?a>t.trackTime%i:r<=e&&t.animationLast<r)&&this.queue.complete(t);s<l;s++){o[s].time<n||this.queue.event(t,o[s])}},T.prototype.clearTracks=function(){var t=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var e=0,n=this.tracks.length;e<n;e++)this.clearTrack(e);this.tracks.length=0,this.queue.drainDisabled=t,this.queue.drain()},T.prototype.clearTrack=function(t){if(!(t>=this.tracks.length)){var e=this.tracks[t];if(null!=e){this.queue.end(e),this.disposeNext(e);for(var n=e;;){var r=n.mixingFrom;if(null==r)break;this.queue.end(r),n.mixingFrom=null,n=r}this.tracks[e.trackIndex]=null,this.queue.drain()}}},T.prototype.setCurrent=function(t,e,n){var r=this.expandToIndex(t);this.tracks[t]=e,null!=r&&(n&&this.queue.interrupt(r),e.mixingFrom=r,e.mixTime=0,null!=r.mixingFrom&&0<r.mixDuration&&(e.interruptAlpha*=Math.min(1,r.mixTime/r.mixDuration)),r.timelinesRotation.length=0),this.queue.start(e)},T.prototype.setAnimation=function(t,e,n){var r=this.data.skeletonData.findAnimation(e);if(null==r)throw new Error("Animation not found: "+e);return this.setAnimationWith(t,r,n)},T.prototype.setAnimationWith=function(t,e,n){if(null==e)throw new Error("animation cannot be null.");var r=!0,i=this.expandToIndex(t);null!=i&&(-1==i.nextTrackLast?(this.tracks[t]=i.mixingFrom,this.queue.interrupt(i),this.queue.end(i),this.disposeNext(i),i=i.mixingFrom,r=!1):this.disposeNext(i));var a=this.trackEntry(t,e,n,i);return this.setCurrent(t,a,r),this.queue.drain(),a},T.prototype.addAnimation=function(t,e,n,r){var i=this.data.skeletonData.findAnimation(e);if(null==i)throw new Error("Animation not found: "+e);return this.addAnimationWith(t,i,n,r)},T.prototype.addAnimationWith=function(t,e,n,r){if(null==e)throw new Error("animation cannot be null.");var i=this.expandToIndex(t);if(null!=i)for(;null!=i.next;)i=i.next;var a=this.trackEntry(t,e,n,i);if(null==i)this.setCurrent(t,a,!0),this.queue.drain();else if(i.next=a,r<=0){var o=i.animationEnd-i.animationStart;0!=o?r+=o*(1+(i.trackTime/o|0))-this.data.getMix(i.animation,e):r=0}return a.delay=r,a},T.prototype.setEmptyAnimation=function(t,e){var n=this.setAnimationWith(t,T.emptyAnimation,!1);return n.mixDuration=e,n.trackEnd=e,n},T.prototype.addEmptyAnimation=function(t,e,n){n<=0&&(n-=e);var r=this.addAnimationWith(t,T.emptyAnimation,!1,n);return r.mixDuration=e,r.trackEnd=e,r},T.prototype.setEmptyAnimations=function(t){var e=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var n=0,r=this.tracks.length;n<r;n++){var i=this.tracks[n];null!=i&&this.setEmptyAnimation(i.trackIndex,t)}this.queue.drainDisabled=e,this.queue.drain()},T.prototype.expandToIndex=function(t){return t<this.tracks.length?this.tracks[t]:(b.Utils.ensureArrayCapacity(this.tracks,t-this.tracks.length+1,null),this.tracks.length=t+1,null)},T.prototype.trackEntry=function(t,e,n,r){var i=this.trackEntryPool.obtain();return i.trackIndex=t,i.animation=e,i.loop=n,i.eventThreshold=0,i.attachmentThreshold=0,i.drawOrderThreshold=0,i.animationStart=0,i.animationEnd=e.duration,i.animationLast=-1,i.nextAnimationLast=-1,i.delay=0,i.trackTime=0,i.trackLast=-1,i.nextTrackLast=-1,i.trackEnd=Number.MAX_VALUE,i.timeScale=1,i.alpha=1,i.interruptAlpha=1,i.mixTime=0,i.mixDuration=null==r?0:this.data.getMix(r.animation,e),i},T.prototype.disposeNext=function(t){for(var e=t.next;null!=e;)this.queue.dispose(e),e=e.next;t.next=null},T.prototype._animationsChanged=function(){this.animationsChanged=!1;var t=this.propertyIDs;t.clear();for(var e=this.mixingTo,n=0,r=this.tracks.length;n<r;n++){var i=this.tracks[n];null!=i&&i.setTimelineData(null,e,t)}},T.prototype.getCurrent=function(t){return t>=this.tracks.length?null:this.tracks[t]},T.prototype.addListener=function(t){if(null==t)throw new Error("listener cannot be null.");this.listeners.push(t)},T.prototype.removeListener=function(t){var e=this.listeners.indexOf(t);0<=e&&this.listeners.splice(e,1)},T.prototype.clearListeners=function(){this.listeners.length=0},T.prototype.clearListenerNotifications=function(){this.queue.clear()},T.prototype.setAnimationByName=function(t,e,n){T.deprecatedWarning1||(T.deprecatedWarning1=!0,console.warn("Deprecation Warning: AnimationState.setAnimationByName is deprecated, please use setAnimation from now on.")),this.setAnimation(t,e,n)},T.prototype.addAnimationByName=function(t,e,n,r){T.deprecatedWarning2||(T.deprecatedWarning2=!0,console.warn("Deprecation Warning: AnimationState.addAnimationByName is deprecated, please use addAnimation from now on.")),this.addAnimation(t,e,n,r)},T.prototype.hasAnimation=function(t){return null!==this.data.skeletonData.findAnimation(t)},T.prototype.hasAnimationByName=function(t){return T.deprecatedWarning3||(T.deprecatedWarning3=!0,console.warn("Deprecation Warning: AnimationState.hasAnimationByName is deprecated, please use hasAnimation from now on.")),this.hasAnimation(t)},T.emptyAnimation=new b.Animation("<empty>",[],0),T.SUBSEQUENT=0,T.FIRST=1,T.DIP=2,T.DIP_MIX=3,T.deprecatedWarning1=!1,T.deprecatedWarning2=!1,T.deprecatedWarning3=!1,T}();b.AnimationState=d;var e=function(){function e(){this.timelineData=new Array,this.timelineDipMix=new Array,this.timelinesRotation=new Array}return e.prototype.reset=function(){this.next=null,this.mixingFrom=null,this.animation=null,this.listener=null,this.timelineData.length=0,this.timelineDipMix.length=0,this.timelinesRotation.length=0},e.prototype.setTimelineData=function(t,e,n){null!=t&&e.push(t);var r=null!=this.mixingFrom?this.mixingFrom.setTimelineData(this,e,n):this;null!=t&&e.pop();var i=e,a=e.length-1,o=this.animation.timelines,s=this.animation.timelines.length,l=b.Utils.setArraySize(this.timelineData,s);this.timelineDipMix.length=0;var h=b.Utils.setArraySize(this.timelineDipMix,s);t:for(var u=0;u<s;u++){var c=o[u].getPropertyId();if(n.add(c))if(null!=t&&t.hasTimeline(c)){for(var p=a;0<=p;p--){var f=i[p];if(!f.hasTimeline(c)&&0<f.mixDuration){l[u]=d.DIP_MIX,h[u]=f;continue t}}l[u]=d.DIP}else l[u]=d.FIRST;else l[u]=d.SUBSEQUENT}return r},e.prototype.hasTimeline=function(t){for(var e=this.animation.timelines,n=0,r=e.length;n<r;n++)if(e[n].getPropertyId()==t)return!0;return!1},e.prototype.getAnimationTime=function(){if(this.loop){var t=this.animationEnd-this.animationStart;return 0==t?this.animationStart:this.trackTime%t+this.animationStart}return Math.min(this.trackTime+this.animationStart,this.animationEnd)},e.prototype.setAnimationLast=function(t){this.animationLast=t,this.nextAnimationLast=t},e.prototype.isComplete=function(){return this.trackTime>=this.animationEnd-this.animationStart},e.prototype.resetRotationDirections=function(){this.timelinesRotation.length=0},Object.defineProperty(e.prototype,"time",{get:function(){return e.deprecatedWarning1||(e.deprecatedWarning1=!0,console.warn("Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.")),this.trackTime},set:function(t){e.deprecatedWarning1||(e.deprecatedWarning1=!0,console.warn("Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.")),this.trackTime=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"endTime",{get:function(){return e.deprecatedWarning2||(e.deprecatedWarning2=!0,console.warn("Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.")),this.trackTime},set:function(t){e.deprecatedWarning2||(e.deprecatedWarning2=!0,console.warn("Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.")),this.trackTime=t},enumerable:!0,configurable:!0}),e.prototype.loopsCount=function(){return Math.floor(this.trackTime/this.trackEnd)},e.deprecatedWarning1=!1,e.deprecatedWarning2=!1,e}();b.TrackEntry=e;var l,t,n=function(){function t(t){this.objects=[],this.drainDisabled=!1,this.animState=t}return t.prototype.start=function(t){this.objects.push(l.start),this.objects.push(t),this.animState.animationsChanged=!0},t.prototype.interrupt=function(t){this.objects.push(l.interrupt),this.objects.push(t)},t.prototype.end=function(t){this.objects.push(l.end),this.objects.push(t),this.animState.animationsChanged=!0},t.prototype.dispose=function(t){this.objects.push(l.dispose),this.objects.push(t)},t.prototype.complete=function(t){this.objects.push(l.complete),this.objects.push(t)},t.prototype.event=function(t,e){this.objects.push(l.event),this.objects.push(t),this.objects.push(e)},t.prototype.deprecateStuff=function(){return t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Deprecation Warning: onComplete, onStart, onEnd, onEvent art deprecated, please use listeners from now on. 'state.addListener({ complete: function(track, event) { } })'")),!0},t.prototype.drain=function(){if(!this.drainDisabled){this.drainDisabled=!0;for(var t=this.objects,e=this.animState.listeners,n=0;n<t.length;n+=2){var r=t[n],i=t[n+1];switch(r){case l.start:null!=i.listener&&i.listener.start&&i.listener.start(i);for(var a=0;a<e.length;a++)e[a].start&&e[a].start(i);i.onStart&&this.deprecateStuff()&&i.onStart(i.trackIndex),this.animState.onStart&&this.deprecateStuff()&&this.deprecateStuff&&this.animState.onStart(i.trackIndex);break;case l.interrupt:null!=i.listener&&i.listener.interrupt&&i.listener.interrupt(i);for(a=0;a<e.length;a++)e[a].interrupt&&e[a].interrupt(i);break;case l.end:null!=i.listener&&i.listener.end&&i.listener.end(i);for(a=0;a<e.length;a++)e[a].end&&e[a].end(i);i.onEnd&&this.deprecateStuff()&&i.onEnd(i.trackIndex),this.animState.onEnd&&this.deprecateStuff()&&this.animState.onEnd(i.trackIndex);case l.dispose:null!=i.listener&&i.listener.dispose&&i.listener.dispose(i);for(a=0;a<e.length;a++)e[a].dispose&&e[a].dispose(i);this.animState.trackEntryPool.free(i);break;case l.complete:null!=i.listener&&i.listener.complete&&i.listener.complete(i);for(a=0;a<e.length;a++)e[a].complete&&e[a].complete(i);var o=b.MathUtils.toInt(i.loopsCount());i.onComplete&&this.deprecateStuff()&&i.onComplete(i.trackIndex,o),this.animState.onComplete&&this.deprecateStuff()&&this.animState.onComplete(i.trackIndex,o);break;case l.event:var s=t[2+n++];null!=i.listener&&i.listener.event&&i.listener.event(i,s);for(a=0;a<e.length;a++)e[a].event&&e[a].event(i,s);i.onEvent&&this.deprecateStuff()&&i.onEvent(i.trackIndex,s),this.animState.onEvent&&this.deprecateStuff()&&this.animState.onEvent(i.trackIndex,s)}}this.clear(),this.drainDisabled=!1}},t.prototype.clear=function(){this.objects.length=0},t.deprecatedWarning1=!1,t}();b.EventQueue=n,(t=l=b.EventType||(b.EventType={}))[t.start=0]="start",t[t.interrupt=1]="interrupt",t[t.end=2]="end",t[t.dispose=3]="dispose",t[t.complete=4]="complete",t[t.event=5]="event";var r=function(){function t(){}return t.prototype.start=function(t){},t.prototype.interrupt=function(t){},t.prototype.end=function(t){},t.prototype.dispose=function(t){},t.prototype.complete=function(t){},t.prototype.event=function(t,e){},t}();b.AnimationStateAdapter2=r}(t.core||(t.core={}))}(pixi_spine||(pixi_spine={})),function(t){var e,n;e=t.core||(t.core={}),n=function(){function r(t){if(this.animationToMixTime={},this.defaultMix=0,null==t)throw new Error("skeletonData cannot be null.");this.skeletonData=t}return r.prototype.setMix=function(t,e,n){var r=this.skeletonData.findAnimation(t);if(null==r)throw new Error("Animation not found: "+t);var i=this.skeletonData.findAnimation(e);if(null==i)throw new Error("Animation not found: "+e);this.setMixWith(r,i,n)},r.prototype.setMixByName=function(t,e,n){r.deprecatedWarning1||(r.deprecatedWarning1=!0,console.warn("Deprecation Warning: AnimationStateData.setMixByName is deprecated, please use setMix from now on.")),this.setMix(t,e,n)},r.prototype.setMixWith=function(t,e,n){if(null==t)throw new Error("from cannot be null.");if(null==e)throw new Error("to cannot be null.");var r=t.name+e.name;this.animationToMixTime[r]=n},r.prototype.getMix=function(t,e){var n=t.name+e.name,r=this.animationToMixTime[n];return void 0===r?this.defaultMix:r},r.deprecatedWarning1=!1,r}(),e.AnimationStateData=n}(pixi_spine||(pixi_spine={})),function(t){var a,e;a=t.core||(t.core={}),e=function(){function t(t){this.atlas=t}return t.prototype.newRegionAttachment=function(t,e,n){var r=this.atlas.findRegion(n);if(null==r)throw new Error("Region not found in atlas: "+n+" (region attachment: "+e+")");var i=new a.RegionAttachment(e);return i.region=r,i},t.prototype.newMeshAttachment=function(t,e,n){var r=this.atlas.findRegion(n);if(null==r)throw new Error("Region not found in atlas: "+n+" (mesh attachment: "+e+")");var i=new a.MeshAttachment(e);return i.region=r,i},t.prototype.newBoundingBoxAttachment=function(t,e){return new a.BoundingBoxAttachment(e)},t.prototype.newPathAttachment=function(t,e){return new a.PathAttachment(e)},t.prototype.newPointAttachment=function(t,e){return new a.PointAttachment(e)},t.prototype.newClippingAttachment=function(t,e){return new a.ClippingAttachment(e)},t}(),a.AtlasAttachmentLoader=e}(pixi_spine||(pixi_spine={})),function(t){var e,n;e=t.core||(t.core={}),(n=e.BlendMode||(e.BlendMode={}))[n.Normal=0]="Normal",n[n.Additive=1]="Additive",n[n.Multiply=2]="Multiply",n[n.Screen=3]="Screen"}(pixi_spine||(pixi_spine={})),function(t){var _,e;_=t.core||(t.core={}),e=function(){function C(t,e,n){if(this.matrix=new PIXI.Matrix,this.children=new Array,this.x=0,this.y=0,this.rotation=0,this.scaleX=0,this.scaleY=0,this.shearX=0,this.shearY=0,this.ax=0,this.ay=0,this.arotation=0,this.ascaleX=0,this.ascaleY=0,this.ashearX=0,this.ashearY=0,this.appliedValid=!1,this.sorted=!1,null==t)throw new Error("data cannot be null.");if(null==e)throw new Error("skeleton cannot be null.");this.data=t,this.skeleton=e,this.parent=n,this.setToSetupPose()}return Object.defineProperty(C.prototype,"worldX",{get:function(){return this.matrix.tx},enumerable:!0,configurable:!0}),Object.defineProperty(C.prototype,"worldY",{get:function(){return this.matrix.ty},enumerable:!0,configurable:!0}),C.prototype.update=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},C.prototype.updateWorldTransform=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},C.prototype.updateWorldTransformWith=function(t,e,n,r,i,a,o){this.ax=t,this.ay=e,this.arotation=n,this.ascaleX=r,this.ascaleY=i,this.ashearX=a,this.ashearY=o,this.appliedValid=!0;var s=this.parent,l=this.matrix;if(null==s){var h=n+90+o,u=_.MathUtils.cosDeg(n+a)*r,c=_.MathUtils.cosDeg(h)*i,p=_.MathUtils.sinDeg(n+a)*r,f=_.MathUtils.sinDeg(h)*i,d=this.skeleton;return d.flipX&&(t=-t,u=-u,c=-c),d.flipY!==C.yDown&&(e=-e,p=-p,f=-f),l.a=u,l.c=c,l.b=p,l.d=f,l.tx=t+d.x,void(l.ty=e+d.y)}var m=s.matrix.a,g=s.matrix.c,v=s.matrix.b,y=s.matrix.d;switch(l.tx=m*t+g*e+s.matrix.tx,l.ty=v*t+y*e+s.matrix.ty,this.data.transformMode){case _.TransformMode.Normal:h=n+90+o,u=_.MathUtils.cosDeg(n+a)*r,c=_.MathUtils.cosDeg(h)*i,p=_.MathUtils.sinDeg(n+a)*r,f=_.MathUtils.sinDeg(h)*i;return l.a=m*u+g*p,l.c=m*c+g*f,l.b=v*u+y*p,void(l.d=v*c+y*f);case _.TransformMode.OnlyTranslation:h=n+90+o;l.a=_.MathUtils.cosDeg(n+a)*r,l.c=_.MathUtils.cosDeg(h)*i,l.b=_.MathUtils.sinDeg(n+a)*r,l.d=_.MathUtils.sinDeg(h)*i;break;case _.TransformMode.NoRotationOrReflection:var x=0;1e-4<(E=m*m+v*v)?(g=v*(E=Math.abs(m*y-g*v)/E),y=m*E,x=Math.atan2(v,m)*_.MathUtils.radDeg):(v=m=0,x=90-Math.atan2(y,g)*_.MathUtils.radDeg);var M=n+a-x,w=n+o-x+90;u=_.MathUtils.cosDeg(M)*r,c=_.MathUtils.cosDeg(w)*i,p=_.MathUtils.sinDeg(M)*r,f=_.MathUtils.sinDeg(w)*i;l.a=m*u-g*p,l.c=m*c-g*f,l.b=v*u+y*p,l.d=v*c+y*f;break;case _.TransformMode.NoScale:case _.TransformMode.NoScaleOrReflection:var E,T=_.MathUtils.cosDeg(n),b=_.MathUtils.sinDeg(n),A=m*T+g*b,I=v*T+y*b;1e-5<(E=Math.sqrt(A*A+I*I))&&(E=1/E),A*=E,I*=E,E=Math.sqrt(A*A+I*I);var S=Math.PI/2+Math.atan2(I,A),R=Math.cos(S)*E,P=Math.sin(S)*E;u=_.MathUtils.cosDeg(a)*r,c=_.MathUtils.cosDeg(90+o)*i,p=_.MathUtils.sinDeg(a)*r,f=_.MathUtils.sinDeg(90+o)*i;return l.a=A*u+R*p,l.c=A*c+R*f,l.b=I*u+P*p,l.d=I*c+P*f,void((this.data.transformMode!=_.TransformMode.NoScaleOrReflection?m*y-g*v<0:this.skeleton.flipX!=this.skeleton.flipY!=C.yDown)&&(l.c=-l.c,l.d=-l.d))}this.skeleton.flipX&&(l.a=-l.a,l.c=-l.c),this.skeleton.flipY!=C.yDown&&(l.b=-l.b,l.d=-l.d)},C.prototype.setToSetupPose=function(){var t=this.data;this.x=t.x,this.y=t.y,this.rotation=t.rotation,this.scaleX=t.scaleX,this.scaleY=t.scaleY,this.shearX=t.shearX,this.shearY=t.shearY},C.prototype.getWorldRotationX=function(){return Math.atan2(this.matrix.b,this.matrix.a)*_.MathUtils.radDeg},C.prototype.getWorldRotationY=function(){return Math.atan2(this.matrix.d,this.matrix.c)*_.MathUtils.radDeg},C.prototype.getWorldScaleX=function(){var t=this.matrix;return Math.sqrt(t.a*t.a+t.c*t.c)},C.prototype.getWorldScaleY=function(){var t=this.matrix;return Math.sqrt(t.b*t.b+t.d*t.d)},C.prototype.updateAppliedTransform=function(){this.appliedValid=!0;var t=this.parent,e=this.matrix;if(null==t)return this.ax=e.tx,this.ay=e.ty,this.arotation=Math.atan2(e.b,e.a)*_.MathUtils.radDeg,this.ascaleX=Math.sqrt(e.a*e.a+e.b*e.b),this.ascaleY=Math.sqrt(e.c*e.c+e.d*e.d),this.ashearX=0,void(this.ashearY=Math.atan2(e.a*e.c+e.b*e.d,e.a*e.d-e.b*e.c)*_.MathUtils.radDeg);var n=t.matrix,r=1/(n.a*n.d-n.b*n.c),i=e.tx-n.tx,a=e.ty-n.ty;this.ax=i*n.d*r-a*n.c*r,this.ay=a*n.a*r-i*n.b*r;var o=r*n.d,s=r*n.a,l=r*n.c,h=r*n.b,u=o*e.a-l*e.b,c=o*e.c-l*e.d,p=s*e.b-h*e.a,f=s*e.d-h*e.c;if(this.ashearX=0,this.ascaleX=Math.sqrt(u*u+p*p),1e-4<this.ascaleX){var d=u*f-c*p;this.ascaleY=d/this.ascaleX,this.ashearY=Math.atan2(u*c+p*f,d)*_.MathUtils.radDeg,this.arotation=Math.atan2(p,u)*_.MathUtils.radDeg}else this.ascaleX=0,this.ascaleY=Math.sqrt(c*c+f*f),this.ashearY=0,this.arotation=90-Math.atan2(f,c)*_.MathUtils.radDeg},C.prototype.worldToLocal=function(t){var e=this.matrix,n=e.a,r=e.c,i=e.b,a=e.d,o=1/(n*a-r*i),s=t.x-e.tx,l=t.y-e.ty;return t.x=s*a*o-l*r*o,t.y=l*n*o-s*i*o,t},C.prototype.localToWorld=function(t){var e=this.matrix,n=t.x,r=t.y;return t.x=n*e.a+r*e.c+e.tx,t.y=n*e.b+r*e.d+e.ty,t},C.prototype.worldToLocalRotation=function(t){var e=_.MathUtils.sinDeg(t),n=_.MathUtils.cosDeg(t),r=this.matrix;return Math.atan2(r.a*e-r.b*n,r.d*n-r.c*e)*_.MathUtils.radDeg},C.prototype.localToWorldRotation=function(t){var e=_.MathUtils.sinDeg(t),n=_.MathUtils.cosDeg(t),r=this.matrix;return Math.atan2(n*r.b+e*r.d,n*r.a+e*r.c)*_.MathUtils.radDeg},C.prototype.rotateWorld=function(t){var e=this.matrix,n=e.a,r=e.c,i=e.b,a=e.d,o=_.MathUtils.cosDeg(t),s=_.MathUtils.sinDeg(t);e.a=o*n-s*i,e.c=o*r-s*a,e.b=s*n+o*i,e.d=s*r+o*a,this.appliedValid=!1},C.yDown=!1,C}(),_.Bone=e}(pixi_spine||(pixi_spine={})),function(t){var e,r,n,i;e=t.core||(t.core={}),i=function(t,e,n){if(this.x=0,this.y=0,this.rotation=0,this.scaleX=1,this.scaleY=1,this.shearX=0,this.shearY=0,this.transformMode=r.Normal,t<0)throw new Error("index must be >= 0.");if(null==e)throw new Error("name cannot be null.");this.index=t,this.name=e,this.parent=n},e.BoneData=i,(n=r=e.TransformMode||(e.TransformMode={}))[n.Normal=0]="Normal",n[n.OnlyTranslation=1]="OnlyTranslation",n[n.NoRotationOrReflection=2]="NoRotationOrReflection",n[n.NoScale=3]="NoScale",n[n.NoScaleOrReflection=4]="NoScaleOrReflection"}(pixi_spine||(pixi_spine={})),function(t){var e;e=function(t,e){if(null==e)throw new Error("data cannot be null.");this.time=t,this.data=e},(t.core||(t.core={})).Event=e}(pixi_spine||(pixi_spine={})),function(t){var e;e=function(t){this.name=t},(t.core||(t.core={})).EventData=e}(pixi_spine||(pixi_spine={})),function(t){var rt,e;rt=t.core||(t.core={}),e=function(){function t(t,e){if(this.mix=1,this.bendDirection=0,null==t)throw new Error("data cannot be null.");if(null==e)throw new Error("skeleton cannot be null.");this.data=t,this.mix=t.mix,this.bendDirection=t.bendDirection,this.bones=new Array;for(var n=0;n<t.bones.length;n++)this.bones.push(e.findBone(t.bones[n].name));this.target=e.findBone(t.target.name)}return t.prototype.getOrder=function(){return this.data.order},t.prototype.apply=function(){this.update()},t.prototype.update=function(){var t=this.target,e=this.bones;switch(e.length){case 1:this.apply1(e[0],t.worldX,t.worldY,this.mix);break;case 2:this.apply2(e[0],e[1],t.worldX,t.worldY,this.bendDirection,this.mix)}},t.prototype.apply1=function(t,e,n,r){t.appliedValid||t.updateAppliedTransform();var i=t.parent.matrix,a=1/(i.a*i.d-i.b*i.c),o=e-i.tx,s=n-i.ty,l=(o*i.d-s*i.c)*a-t.ax,h=(s*i.a-o*i.b)*a-t.ay,u=Math.atan2(h,l)*rt.MathUtils.radDeg-t.ashearX-t.arotation;t.ascaleX<0&&(u+=180),180<u?u-=360:u<-180&&(u+=360),t.updateWorldTransformWith(t.ax,t.ay,t.arotation+u*r,t.ascaleX,t.ascaleY,t.ashearX,t.ashearY)},t.prototype.apply2=function(t,e,n,r,i,a){if(0!=a){t.appliedValid||t.updateAppliedTransform(),e.appliedValid||e.updateAppliedTransform();var o=t.ax,s=t.ay,l=t.ascaleX,h=t.ascaleY,u=e.ascaleX,c=t.matrix,p=0,f=0,d=0;l<0?(l=-l,p=180,d=-1):(p=0,d=1),h<0&&(h=-h,d=-d),u<0?(u=-u,f=180):f=0;var m=e.ax,g=0,v=0,y=0,x=c.a,M=c.c,w=c.b,E=c.d,T=Math.abs(l-h)<=1e-4;T?(v=x*m+M*(g=e.ay)+c.tx,y=w*m+E*g+c.ty):(g=0,v=x*m+c.tx,y=w*m+c.ty);var b=t.parent.matrix;x=b.a,M=b.c,w=b.b;var A=1/(x*(E=b.d)-M*w),I=n-b.tx,S=r-b.ty,R=(I*E-S*M)*A-o,P=(S*x-I*w)*A-s,C=((I=v-b.tx)*E-(S=y-b.ty)*M)*A-o,_=(S*x-I*w)*A-s,V=Math.sqrt(C*C+_*_),k=e.data.length*u,N=0,D=0;t:if(T){var X=(R*R+P*P-V*V-(k*=l)*k)/(2*V*k);X<-1?X=-1:1<X&&(X=1),D=Math.acos(X)*i,x=V+k*X,M=k*Math.sin(D),N=Math.atan2(P*x-R*M,R*x+P*M)}else{var U=(x=l*k)*x,O=(M=h*k)*M,Y=R*R+P*P,F=Math.atan2(P,R),L=-2*O*V,B=O-U;if(0<=(E=L*L-4*B*(w=O*V*V+U*Y-U*O))){var W=Math.sqrt(E);L<0&&(W=-W);var q=(W=-(L+W)/2)/B,j=w/W,G=Math.abs(q)<Math.abs(j)?q:j;if(G*G<=Y){S=Math.sqrt(Y-G*G)*i,N=F-Math.atan2(S,G),D=Math.atan2(S/h,(G-V)/l);break t}}var z=rt.MathUtils.PI,Z=V-x,H=Z*Z,J=0,Q=0,K=V+x,$=K*K,tt=0;-1<=(w=-x*V/(U-O))&&w<=1&&(w=Math.acos(w),(E=(I=x*Math.cos(w)+V)*I+(S=M*Math.sin(w))*S)<H&&(z=w,H=E,Z=I,J=S),$<E&&(Q=w,$=E,K=I,tt=S)),Y<=(H+$)/2?(N=F-Math.atan2(J*i,Z),D=z*i):(N=F-Math.atan2(tt*i,K),D=Q*i)}var et=Math.atan2(g,m)*d,nt=t.arotation;180<(N=(N-et)*rt.MathUtils.radDeg+p-nt)?N-=360:N<-180&&(N+=360),t.updateWorldTransformWith(o,s,nt+N*a,t.ascaleX,t.ascaleY,0,0),nt=e.arotation,180<(D=((D+et)*rt.MathUtils.radDeg-e.ashearX)*d+f-nt)?D-=360:D<-180&&(D+=360),e.updateWorldTransformWith(m,g,nt+D*a,e.ascaleX,e.ascaleY,e.ashearX,e.ashearY)}else e.updateWorldTransform()},t}(),rt.IkConstraint=e}(pixi_spine||(pixi_spine={})),function(t){var e;e=function(t){this.order=0,this.bones=new Array,this.bendDirection=1,this.mix=1,this.name=t},(t.core||(t.core={})).IkConstraintData=e}(pixi_spine||(pixi_spine={})),function(t){var H,e;H=t.core||(t.core={}),e=function(){function Z(t,e){if(this.position=0,this.spacing=0,this.rotateMix=0,this.translateMix=0,this.spaces=new Array,this.positions=new Array,this.world=new Array,this.curves=new Array,this.lengths=new Array,this.segments=new Array,null==t)throw new Error("data cannot be null.");if(null==e)throw new Error("skeleton cannot be null.");this.data=t,this.bones=new Array;for(var n=0,r=t.bones.length;n<r;n++)this.bones.push(e.findBone(t.bones[n].name));this.target=e.findSlot(t.target.name),this.position=t.position,this.spacing=t.spacing,this.rotateMix=t.rotateMix,this.translateMix=t.translateMix}return Z.prototype.apply=function(){this.update()},Z.prototype.update=function(){var t=this.target.getAttachment();if(t instanceof H.PathAttachment){var e=this.rotateMix,n=this.translateMix,r=0<e;if(0<n||r){var i=this.data,a=i.spacingMode,o=a==H.SpacingMode.Length,s=i.rotateMode,l=s==H.RotateMode.Tangent,h=s==H.RotateMode.ChainScale,u=this.bones.length,c=l?u:u+1,p=this.bones,f=H.Utils.setArraySize(this.spaces,c),d=null,m=this.spacing;if(h||o){h&&(d=H.Utils.setArraySize(this.lengths,u));for(var g=0,v=c-1;g<v;){var y=(R=p[g]).data.length,x=y*R.matrix.a,M=y*R.matrix.b,w=Math.sqrt(x*x+M*M);h&&(d[g]=w),f[++g]=(o?y+m:m)*w/y}}else for(g=1;g<c;g++)f[g]=m;var E=this.computeWorldPositions(t,c,l,i.positionMode==H.PositionMode.Percent,a==H.SpacingMode.Percent),T=E[0],b=E[1],A=i.offsetRotation,I=!1;if(0==A)I=s==H.RotateMode.Chain;else I=!1,A*=0<(S=this.target.bone.matrix).a*S.d-S.b*S.c?H.MathUtils.degRad:-H.MathUtils.degRad;g=0;for(var S=3;g<u;g++,S+=3){var R,P=(R=p[g]).matrix;P.tx+=(T-P.tx)*n,P.ty+=(b-P.ty)*n;var C=(x=E[S])-T,_=(M=E[S+1])-b;if(h){var V=d[g];if(0!=V){var k=(Math.sqrt(C*C+_*_)/V-1)*e+1;P.a*=k,P.b*=k}}if(T=x,b=M,r){var N=P.a,D=P.c,X=P.b,U=P.d,O=0,Y=0,F=0;if(O=l?E[S-1]:0==f[g+1]?E[S+2]:Math.atan2(_,C),O-=Math.atan2(X,N),I){Y=Math.cos(O),F=Math.sin(O);var L=R.data.length;T+=(L*(Y*N-F*X)-C)*e,b+=(L*(F*N+Y*X)-_)*e}else O+=A;O>H.MathUtils.PI?O-=H.MathUtils.PI2:O<-H.MathUtils.PI&&(O+=H.MathUtils.PI2),O*=e,Y=Math.cos(O),F=Math.sin(O),P.a=Y*N-F*X,P.c=Y*D-F*U,P.b=F*N+Y*X,P.d=F*D+Y*U}R.appliedValid=!1}}}},Z.prototype.computeWorldPositions=function(t,e,n,r,i){var a=this.target,o=this.position,s=this.spaces,l=H.Utils.setArraySize(this.positions,3*e+2),h=null,u=t.closed,c=t.worldVerticesLength,p=c/6,f=Z.NONE;if(!t.constantSpeed){var d=t.lengths,m=d[p-=u?1:2];if(r&&(o*=m),i)for(var g=0;g<e;g++)s[g]*=m;h=H.Utils.setArraySize(this.world,8);g=0;for(var v=0,y=0;g<e;g++,v+=3){var x=o+=W=s[g];if(u)(x%=m)<0&&(x+=m),y=0;else{if(x<0){f!=Z.BEFORE&&(f=Z.BEFORE,t.computeWorldVertices(a,2,4,h,0,2)),this.addBeforePosition(x,h,0,l,v);continue}if(m<x){f!=Z.AFTER&&(f=Z.AFTER,t.computeWorldVertices(a,c-6,4,h,0,2)),this.addAfterPosition(x-m,h,0,l,v);continue}}for(;;y++){var M=d[y];if(!(M<x)){if(0==y)x/=M;else x=(x-(z=d[y-1]))/(M-z);break}}y!=f&&(f=y,u&&y==p?(t.computeWorldVertices(a,c-4,4,h,0,2),t.computeWorldVertices(a,0,4,h,4,2)):t.computeWorldVertices(a,6*y+2,8,h,0,2)),this.addCurvePosition(x,h[0],h[1],h[2],h[3],h[4],h[5],h[6],h[7],l,v,n||0<g&&0==W)}return l}u?(c+=2,h=H.Utils.setArraySize(this.world,c),t.computeWorldVertices(a,2,c-4,h,0,2),t.computeWorldVertices(a,0,2,h,c-4,2),h[c-2]=h[0],h[c-1]=h[1]):(p--,c-=4,h=H.Utils.setArraySize(this.world,c),t.computeWorldVertices(a,2,c,h,0,2));for(var w=H.Utils.setArraySize(this.curves,p),E=0,T=h[0],b=h[1],A=0,I=0,S=0,R=0,P=0,C=0,_=0,V=0,k=0,N=0,D=0,X=0,U=0,O=0,Y=(g=0,2);g<p;g++,Y+=6)A=h[Y],I=h[Y+1],S=h[Y+2],R=h[Y+3],D=2*(_=.1875*(T-2*A+S))+(k=.09375*(3*(A-S)-T+(P=h[Y+4]))),X=2*(V=.1875*(b-2*I+R))+(N=.09375*(3*(I-R)-b+(C=h[Y+5]))),U=.75*(A-T)+_+.16666667*k,O=.75*(I-b)+V+.16666667*N,E+=Math.sqrt(U*U+O*O),U+=D,O+=X,D+=k,X+=N,E+=Math.sqrt(U*U+O*O),U+=D,O+=X,E+=Math.sqrt(U*U+O*O),U+=D+k,O+=X+N,E+=Math.sqrt(U*U+O*O),w[g]=E,T=P,b=C;if(r&&(o*=E),i)for(g=0;g<e;g++)s[g]*=E;for(var F=this.segments,L=0,B=(g=0,v=0,y=0,0);g<e;g++,v+=3){var W;x=o+=W=s[g];if(u)(x%=E)<0&&(x+=E),y=0;else{if(x<0){this.addBeforePosition(x,h,0,l,v);continue}if(E<x){this.addAfterPosition(x-E,h,c-4,l,v);continue}}for(;;y++){var q=w[y];if(!(q<x)){if(0==y)x/=q;else x=(x-(z=w[y-1]))/(q-z);break}}if(y!=f){var j=6*(f=y);for(T=h[j],b=h[j+1],A=h[j+2],I=h[j+3],S=h[j+4],R=h[j+5],D=2*(_=.03*(T-2*A+S))+(k=.006*(3*(A-S)-T+(P=h[j+6]))),X=2*(V=.03*(b-2*I+R))+(N=.006*(3*(I-R)-b+(C=h[j+7]))),U=.3*(A-T)+_+.16666667*k,O=.3*(I-b)+V+.16666667*N,L=Math.sqrt(U*U+O*O),F[0]=L,j=1;j<8;j++)U+=D,O+=X,D+=k,X+=N,L+=Math.sqrt(U*U+O*O),F[j]=L;U+=D,O+=X,L+=Math.sqrt(U*U+O*O),F[8]=L,U+=D+k,O+=X+N,L+=Math.sqrt(U*U+O*O),F[9]=L,B=0}for(x*=L;;B++){var G=F[B];if(!(G<x)){var z;if(0==B)x/=G;else x=B+(x-(z=F[B-1]))/(G-z);break}}this.addCurvePosition(.1*x,T,b,A,I,S,R,P,C,l,v,n||0<g&&0==W)}return l},Z.prototype.addBeforePosition=function(t,e,n,r,i){var a=e[n],o=e[n+1],s=e[n+2]-a,l=e[n+3]-o,h=Math.atan2(l,s);r[i]=a+t*Math.cos(h),r[i+1]=o+t*Math.sin(h),r[i+2]=h},Z.prototype.addAfterPosition=function(t,e,n,r,i){var a=e[n+2],o=e[n+3],s=a-e[n],l=o-e[n+1],h=Math.atan2(l,s);r[i]=a+t*Math.cos(h),r[i+1]=o+t*Math.sin(h),r[i+2]=h},Z.prototype.addCurvePosition=function(t,e,n,r,i,a,o,s,l,h,u,c){(0==t||isNaN(t))&&(t=1e-4);var p=t*t,f=p*t,d=1-t,m=d*d,g=m*d,v=d*t,y=3*v,x=d*y,M=y*t,w=e*g+r*x+a*M+s*f,E=n*g+i*x+o*M+l*f;h[u]=w,h[u+1]=E,c&&(h[u+2]=Math.atan2(E-(n*m+i*v*2+o*p),w-(e*m+r*v*2+a*p)))},Z.prototype.getOrder=function(){return this.data.order},Z.NONE=-1,Z.BEFORE=-2,Z.AFTER=-3,Z}(),H.PathConstraint=e}(pixi_spine||(pixi_spine={})),function(t){var e,n,r,i,a;e=t.core||(t.core={}),a=function(t){this.order=0,this.bones=new Array,this.name=t},e.PathConstraintData=a,(n=e.PositionMode||(e.PositionMode={}))[n.Fixed=0]="Fixed",n[n.Percent=1]="Percent",(r=e.SpacingMode||(e.SpacingMode={}))[r.Length=0]="Length",r[r.Fixed=1]="Fixed",r[r.Percent=2]="Percent",(i=e.RotateMode||(e.RotateMode={}))[i.Tangent=0]="Tangent",i[i.Chain=1]="Chain",i[i.ChainScale=2]="ChainScale"}(pixi_spine||(pixi_spine={})),function(t){var x,e;x=t.core||(t.core={}),e=function(){function t(t){if(this._updateCache=new Array,this.updateCacheReset=new Array,this.time=0,this.flipX=!1,this.flipY=!1,this.x=0,this.y=0,null==t)throw new Error("data cannot be null.");this.data=t,this.bones=new Array;for(var e=0;e<t.bones.length;e++){var n=t.bones[e],r=void 0;if(null==n.parent)r=new x.Bone(n,this,null);else{var i=this.bones[n.parent.index];r=new x.Bone(n,this,i),i.children.push(r)}this.bones.push(r)}this.slots=new Array,this.drawOrder=new Array;for(e=0;e<t.slots.length;e++){var a=t.slots[e],o=(r=this.bones[a.boneData.index],new x.Slot(a,r));this.slots.push(o),this.drawOrder.push(o)}this.ikConstraints=new Array;for(e=0;e<t.ikConstraints.length;e++){var s=t.ikConstraints[e];this.ikConstraints.push(new x.IkConstraint(s,this))}this.transformConstraints=new Array;for(e=0;e<t.transformConstraints.length;e++){var l=t.transformConstraints[e];this.transformConstraints.push(new x.TransformConstraint(l,this))}this.pathConstraints=new Array;for(e=0;e<t.pathConstraints.length;e++){var h=t.pathConstraints[e];this.pathConstraints.push(new x.PathConstraint(h,this))}this.color=new x.Color(1,1,1,1),this.updateCache()}return t.prototype.updateCache=function(){this._updateCache.length=0,this.updateCacheReset.length=0;for(var t=this.bones,e=0,n=t.length;e<n;e++)t[e].sorted=!1;var r=this.ikConstraints,i=this.transformConstraints,a=this.pathConstraints,o=r.length,s=i.length,l=a.length,h=o+s+l;t:for(e=0;e<h;e++){for(var u=0;u<o;u++){if((c=r[u]).data.order==e){this.sortIkConstraint(c);continue t}}for(u=0;u<s;u++){if((c=i[u]).data.order==e){this.sortTransformConstraint(c);continue t}}for(u=0;u<l;u++){var c;if((c=a[u]).data.order==e){this.sortPathConstraint(c);continue t}}}for(e=0,n=t.length;e<n;e++)this.sortBone(t[e])},t.prototype.sortIkConstraint=function(t){var e=t.target;this.sortBone(e);var n=t.bones,r=n[0];if(this.sortBone(r),1<n.length){var i=n[n.length-1];-1<this._updateCache.indexOf(i)||this.updateCacheReset.push(i)}this._updateCache.push(t),this.sortReset(r.children),n[n.length-1].sorted=!0},t.prototype.sortPathConstraint=function(t){var e=t.target,n=e.data.index,r=e.bone;null!=this.skin&&this.sortPathConstraintAttachment(this.skin,n,r),null!=this.data.defaultSkin&&this.data.defaultSkin!=this.skin&&this.sortPathConstraintAttachment(this.data.defaultSkin,n,r);for(var i=0,a=this.data.skins.length;i<a;i++)this.sortPathConstraintAttachment(this.data.skins[i],n,r);var o=e.getAttachment();o instanceof x.PathAttachment&&this.sortPathConstraintAttachmentWith(o,r);var s=t.bones,l=s.length;for(i=0;i<l;i++)this.sortBone(s[i]);this._updateCache.push(t);for(i=0;i<l;i++)this.sortReset(s[i].children);for(i=0;i<l;i++)s[i].sorted=!0},t.prototype.sortTransformConstraint=function(t){this.sortBone(t.target);var e=t.bones,n=e.length;if(t.data.local)for(var r=0;r<n;r++){var i=e[r];this.sortBone(i.parent),-1<this._updateCache.indexOf(i)||this.updateCacheReset.push(i)}else for(r=0;r<n;r++)this.sortBone(e[r]);this._updateCache.push(t);for(var a=0;a<n;a++)this.sortReset(e[a].children);for(a=0;a<n;a++)e[a].sorted=!0},t.prototype.sortPathConstraintAttachment=function(t,e,n){var r=t.attachments[e];if(r)for(var i in r)this.sortPathConstraintAttachmentWith(r[i],n)},t.prototype.sortPathConstraintAttachmentWith=function(t,e){if(t instanceof x.PathAttachment){var n=t.bones;if(null==n)this.sortBone(e);else for(var r=this.bones,i=0;i<n.length;)for(var a=n[i++],o=i+a;i<o;i++){var s=n[i];this.sortBone(r[s])}}},t.prototype.sortBone=function(t){if(!t.sorted){var e=t.parent;null!=e&&this.sortBone(e),t.sorted=!0,this._updateCache.push(t)}},t.prototype.sortReset=function(t){for(var e=0,n=t.length;e<n;e++){var r=t[e];r.sorted&&this.sortReset(r.children),r.sorted=!1}},t.prototype.updateWorldTransform=function(){for(var t=this.updateCacheReset,e=0,n=t.length;e<n;e++){var r=t[e];r.ax=r.x,r.ay=r.y,r.arotation=r.rotation,r.ascaleX=r.scaleX,r.ascaleY=r.scaleY,r.ashearX=r.shearX,r.ashearY=r.shearY,r.appliedValid=!0}var i=this._updateCache;for(e=0,n=i.length;e<n;e++)i[e].update()},t.prototype.setToSetupPose=function(){this.setBonesToSetupPose(),this.setSlotsToSetupPose()},t.prototype.setBonesToSetupPose=function(){for(var t=this.bones,e=0,n=t.length;e<n;e++)t[e].setToSetupPose();var r=this.ikConstraints;for(e=0,n=r.length;e<n;e++){(s=r[e]).bendDirection=s.data.bendDirection,s.mix=s.data.mix}var i=this.transformConstraints;for(e=0,n=i.length;e<n;e++){var a=(s=i[e]).data;s.rotateMix=a.rotateMix,s.translateMix=a.translateMix,s.scaleMix=a.scaleMix,s.shearMix=a.shearMix}var o=this.pathConstraints;for(e=0,n=o.length;e<n;e++){var s;a=(s=o[e]).data;s.position=a.position,s.spacing=a.spacing,s.rotateMix=a.rotateMix,s.translateMix=a.translateMix}},t.prototype.setSlotsToSetupPose=function(){var t=this.slots;x.Utils.arrayCopy(t,0,this.drawOrder,0,t.length);for(var e=0,n=t.length;e<n;e++)t[e].setToSetupPose()},t.prototype.getRootBone=function(){return 0==this.bones.length?null:this.bones[0]},t.prototype.findBone=function(t){if(null==t)throw new Error("boneName cannot be null.");for(var e=this.bones,n=0,r=e.length;n<r;n++){var i=e[n];if(i.data.name==t)return i}return null},t.prototype.findBoneIndex=function(t){if(null==t)throw new Error("boneName cannot be null.");for(var e=this.bones,n=0,r=e.length;n<r;n++)if(e[n].data.name==t)return n;return-1},t.prototype.findSlot=function(t){if(null==t)throw new Error("slotName cannot be null.");for(var e=this.slots,n=0,r=e.length;n<r;n++){var i=e[n];if(i.data.name==t)return i}return null},t.prototype.findSlotIndex=function(t){if(null==t)throw new Error("slotName cannot be null.");for(var e=this.slots,n=0,r=e.length;n<r;n++)if(e[n].data.name==t)return n;return-1},t.prototype.setSkinByName=function(t){var e=this.data.findSkin(t);if(null==e)throw new Error("Skin not found: "+t);this.setSkin(e)},t.prototype.setSkin=function(t){if(null!=t)if(null!=this.skin)t.attachAll(this,this.skin);else for(var e=this.slots,n=0,r=e.length;n<r;n++){var i=e[n],a=i.data.attachmentName;if(null!=a){var o=t.getAttachment(n,a);null!=o&&i.setAttachment(o)}}this.skin=t},t.prototype.getAttachmentByName=function(t,e){return this.getAttachment(this.data.findSlotIndex(t),e)},t.prototype.getAttachment=function(t,e){if(null==e)throw new Error("attachmentName cannot be null.");if(null!=this.skin){var n=this.skin.getAttachment(t,e);if(null!=n)return n}return null!=this.data.defaultSkin?this.data.defaultSkin.getAttachment(t,e):null},t.prototype.setAttachment=function(t,e){if(null==t)throw new Error("slotName cannot be null.");for(var n=this.slots,r=0,i=n.length;r<i;r++){var a=n[r];if(a.data.name==t){var o=null;if(null!=e&&null==(o=this.getAttachment(r,e)))throw new Error("Attachment not found: "+e+", for slot: "+t);return void a.setAttachment(o)}}throw new Error("Slot not found: "+t)},t.prototype.findIkConstraint=function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.ikConstraints,n=0,r=e.length;n<r;n++){var i=e[n];if(i.data.name==t)return i}return null},t.prototype.findTransformConstraint=function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.transformConstraints,n=0,r=e.length;n<r;n++){var i=e[n];if(i.data.name==t)return i}return null},t.prototype.findPathConstraint=function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.pathConstraints,n=0,r=e.length;n<r;n++){var i=e[n];if(i.data.name==t)return i}return null},t.prototype.getBounds=function(t,e,n){if(null==t)throw new Error("offset cannot be null.");if(null==e)throw new Error("size cannot be null.");for(var r=this.drawOrder,i=Number.POSITIVE_INFINITY,a=Number.POSITIVE_INFINITY,o=Number.NEGATIVE_INFINITY,s=Number.NEGATIVE_INFINITY,l=0,h=r.length;l<h;l++){var u=r[l],c=0,p=null,f=u.getAttachment();if(f instanceof x.RegionAttachment)c=8,p=x.Utils.setArraySize(n,c,0),f.computeWorldVertices(u.bone,p,0,2);else if(f instanceof x.MeshAttachment){var d=f;c=d.worldVerticesLength,p=x.Utils.setArraySize(n,c,0),d.computeWorldVertices(u,0,c,p,0,2)}if(null!=p)for(var m=0,g=p.length;m<g;m+=2){var v=p[m],y=p[m+1];i=Math.min(i,v),a=Math.min(a,y),o=Math.max(o,v),s=Math.max(s,y)}}t.set(i,a),e.set(o-i,s-a)},t.prototype.update=function(t){this.time+=t},t}(),x.Skeleton=e}(pixi_spine||(pixi_spine={})),function(t){var p,e;p=t.core||(t.core={}),e=function(){function t(){this.minX=0,this.minY=0,this.maxX=0,this.maxY=0,this.boundingBoxes=new Array,this.polygons=new Array,this.polygonPool=new p.Pool(function(){return p.Utils.newFloatArray(16)})}return t.prototype.update=function(t,e){if(null==t)throw new Error("skeleton cannot be null.");var n=this.boundingBoxes,r=this.polygons,i=this.polygonPool,a=t.slots,o=a.length;n.length=0,i.freeAll(r);for(var s=r.length=0;s<o;s++){var l=a[s],h=l.getAttachment();if(h instanceof p.BoundingBoxAttachment){var u=h;n.push(u);var c=i.obtain();c.length!=u.worldVerticesLength&&(c=p.Utils.newFloatArray(u.worldVerticesLength)),r.push(c),u.computeWorldVertices(l,0,u.worldVerticesLength,c,0,2)}}e?this.aabbCompute():(this.minX=Number.POSITIVE_INFINITY,this.minY=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.maxY=Number.NEGATIVE_INFINITY)},t.prototype.aabbCompute=function(){for(var t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY,r=Number.NEGATIVE_INFINITY,i=this.polygons,a=0,o=i.length;a<o;a++)for(var s=i[a],l=s,h=0,u=s.length;h<u;h+=2){var c=l[h],p=l[h+1];t=Math.min(t,c),e=Math.min(e,p),n=Math.max(n,c),r=Math.max(r,p)}this.minX=t,this.minY=e,this.maxX=n,this.maxY=r},t.prototype.aabbContainsPoint=function(t,e){return t>=this.minX&&t<=this.maxX&&e>=this.minY&&e<=this.maxY},t.prototype.aabbIntersectsSegment=function(t,e,n,r){var i=this.minX,a=this.minY,o=this.maxX,s=this.maxY;if(t<=i&&n<=i||e<=a&&r<=a||o<=t&&o<=n||s<=e&&s<=r)return!1;var l=(r-e)/(n-t),h=l*(i-t)+e;if(a<h&&h<s)return!0;if(a<(h=l*(o-t)+e)&&h<s)return!0;var u=(a-e)/l+t;return i<u&&u<o||i<(u=(s-e)/l+t)&&u<o},t.prototype.aabbIntersectsSkeleton=function(t){return this.minX<t.maxX&&this.maxX>t.minX&&this.minY<t.maxY&&this.maxY>t.minY},t.prototype.containsPoint=function(t,e){for(var n=this.polygons,r=0,i=n.length;r<i;r++)if(this.containsPointPolygon(n[r],t,e))return this.boundingBoxes[r];return null},t.prototype.containsPointPolygon=function(t,e,n){for(var r=t,i=t.length,a=i-2,o=!1,s=0;s<i;s+=2){var l=r[s+1],h=r[a+1];if(l<n&&n<=h||h<n&&n<=l){var u=r[s];u+(n-l)/(h-l)*(r[a]-u)<e&&(o=!o)}a=s}return o},t.prototype.intersectsSegment=function(t,e,n,r){for(var i=this.polygons,a=0,o=i.length;a<o;a++)if(this.intersectsSegmentPolygon(i[a],t,e,n,r))return this.boundingBoxes[a];return null},t.prototype.intersectsSegmentPolygon=function(t,e,n,r,i){for(var a=t,o=t.length,s=e-r,l=n-i,h=e*i-n*r,u=a[o-2],c=a[o-1],p=0;p<o;p+=2){var f=a[p],d=a[p+1],m=u*d-c*f,g=u-f,v=c-d,y=s*v-l*g,x=(h*g-s*m)/y;if((u<=x&&x<=f||f<=x&&x<=u)&&(e<=x&&x<=r||r<=x&&x<=e)){var M=(h*v-l*m)/y;if((c<=M&&M<=d||d<=M&&M<=c)&&(n<=M&&M<=i||i<=M&&M<=n))return!0}u=f,c=d}return!1},t.prototype.getPolygon=function(t){if(null==t)throw new Error("boundingBox cannot be null.");var e=this.boundingBoxes.indexOf(t);return-1==e?null:this.polygons[e]},t.prototype.getWidth=function(){return this.maxX-this.minX},t.prototype.getHeight=function(){return this.maxY-this.minY},t}(),p.SkeletonBounds=e}(pixi_spine||(pixi_spine={})),function(t){var H,e;H=t.core||(t.core={}),e=function(){function h(){this.triangulator=new H.Triangulator,this.clippingPolygon=new Array,this.clipOutput=new Array,this.clippedVertices=new Array,this.clippedTriangles=new Array,this.scratch=new Array}return h.prototype.clipStart=function(t,e){if(null!=this.clipAttachment)return 0;var n=(this.clipAttachment=e).worldVerticesLength,r=H.Utils.setArraySize(this.clippingPolygon,n);e.computeWorldVertices(t,0,n,r,0,2);var i=this.clippingPolygon;h.makeClockwise(i);for(var a=this.clippingPolygons=this.triangulator.decompose(i,this.triangulator.triangulate(i)),o=0,s=a.length;o<s;o++){var l=a[o];h.makeClockwise(l),l.push(l[0]),l.push(l[1])}return a.length},h.prototype.clipEndWithSlot=function(t){null!=this.clipAttachment&&this.clipAttachment.endSlot==t.data&&this.clipEnd()},h.prototype.clipEnd=function(){null!=this.clipAttachment&&(this.clipAttachment=null,this.clippingPolygons=null,this.clippedVertices.length=0,this.clippedTriangles.length=0,this.clippingPolygon.length=0)},h.prototype.isClipping=function(){return null!=this.clipAttachment},h.prototype.clipTriangles=function(t,e,n,r,i,a,o,s){var l=this.clipOutput,h=this.clippedVertices,u=this.clippedTriangles,c=this.clippingPolygons,p=this.clippingPolygons.length,f=s?12:8,d=0;h.length=0;t:for(var m=u.length=0;m<r;m+=3)for(var g=n[m]<<1,v=t[g],y=t[g+1],x=i[g],M=i[g+1],w=t[g=n[m+1]<<1],E=t[g+1],T=i[g],b=i[g+1],A=t[g=n[m+2]<<1],I=t[g+1],S=i[g],R=i[g+1],P=0;P<p;P++){var C=h.length;if(!this.clip(v,y,w,E,A,I,c[P],l)){(Y=H.Utils.setArraySize(h,C+3*f))[C]=v,Y[C+1]=y,Y[C+2]=a.r,Y[C+3]=a.g,Y[C+4]=a.b,Y[C+5]=a.a,s?(Y[C+6]=x,Y[C+7]=M,Y[C+8]=o.r,Y[C+9]=o.g,Y[C+10]=o.b,Y[C+11]=o.a,Y[C+12]=w,Y[C+13]=E,Y[C+14]=a.r,Y[C+15]=a.g,Y[C+16]=a.b,Y[C+17]=a.a,Y[C+18]=T,Y[C+19]=b,Y[C+20]=o.r,Y[C+21]=o.g,Y[C+22]=o.b,Y[C+23]=o.a,Y[C+24]=A,Y[C+25]=I,Y[C+26]=a.r,Y[C+27]=a.g,Y[C+28]=a.b,Y[C+29]=a.a,Y[C+30]=S,Y[C+31]=R,Y[C+32]=o.r,Y[C+33]=o.g,Y[C+34]=o.b,Y[C+35]=o.a):(Y[C+6]=x,Y[C+7]=M,Y[C+8]=w,Y[C+9]=E,Y[C+10]=a.r,Y[C+11]=a.g,Y[C+12]=a.b,Y[C+13]=a.a,Y[C+14]=T,Y[C+15]=b,Y[C+16]=A,Y[C+17]=I,Y[C+18]=a.r,Y[C+19]=a.g,Y[C+20]=a.b,Y[C+21]=a.a,Y[C+22]=S,Y[C+23]=R),C=u.length,(Z=H.Utils.setArraySize(u,C+3))[C]=d,Z[C+1]=d+1,Z[C+2]=d+2,d+=3;continue t}var _=l.length;if(0!=_){for(var V=E-I,k=A-w,N=v-A,D=I-y,X=1/(V*N+k*(y-I)),U=_>>1,O=this.clipOutput,Y=H.Utils.setArraySize(h,C+U*f),F=0;F<_;F+=2){var L=O[F],B=O[F+1];Y[C]=L,Y[C+1]=B,Y[C+2]=a.r,Y[C+3]=a.g,Y[C+4]=a.b,Y[C+5]=a.a;var W=L-A,q=B-I,j=(V*W+k*q)*X,G=(D*W+N*q)*X,z=1-j-G;Y[C+6]=x*j+T*G+S*z,Y[C+7]=M*j+b*G+R*z,s&&(Y[C+8]=o.r,Y[C+9]=o.g,Y[C+10]=o.b,Y[C+11]=o.a),C+=f}C=u.length;var Z=H.Utils.setArraySize(u,C+3*(U-2));U--;for(F=1;F<U;F++)Z[C]=d,Z[C+1]=d+F,Z[C+2]=d+F+1,C+=3;d+=U+1}}},h.prototype.clip=function(t,e,n,r,i,a,o,s){var l=s,h=!1,u=null;2<=o.length%4?(u=s,s=this.scratch):u=this.scratch,u.length=0,u.push(t),u.push(e),u.push(n),u.push(r),u.push(i),u.push(a),u.push(t),u.push(e),s.length=0;for(var c=o,p=o.length-4,f=0;;f+=2){for(var d=c[f],m=c[f+1],g=c[f+2],v=c[f+3],y=d-g,x=m-v,M=u,w=u.length-2,E=s.length,T=0;T<w;T+=2){var b=M[T],A=M[T+1],I=M[T+2],S=M[T+3],R=0<y*(S-v)-x*(I-g);if(0<y*(A-v)-x*(b-g)){if(R){s.push(I),s.push(S);continue}var P=((_=I-b)*(m-A)-(C=S-A)*(d-b))/(C*(g-d)-_*(v-m));s.push(d+(g-d)*P),s.push(m+(v-m)*P)}else if(R){var C,_;P=((_=I-b)*(m-A)-(C=S-A)*(d-b))/(C*(g-d)-_*(v-m));s.push(d+(g-d)*P),s.push(m+(v-m)*P),s.push(I),s.push(S)}h=!0}if(E==s.length)return!(l.length=0);if(s.push(s[0]),s.push(s[1]),f==p)break;var V=s;(s=u).length=0,u=V}if(l!=s){f=l.length=0;for(var k=s.length-2;f<k;f++)l[f]=s[f]}else l.length=l.length-2;return h},h.makeClockwise=function(t){for(var e=t,n=t.length,r=e[n-2]*e[1]-e[0]*e[n-1],i=0,a=0,o=0,s=0,l=n-3;s<l;s+=2)i=e[s],a=e[s+1],o=e[s+2],r+=i*e[s+3]-o*a;if(!(r<0)){s=0;var h=n-2;for(l=n>>1;s<l;s+=2){var u=e[s],c=e[s+1],p=h-s;e[s]=e[p],e[s+1]=e[p+1],e[p]=u,e[p+1]=c}}},h}(),H.SkeletonClipping=e}(pixi_spine||(pixi_spine={})),function(t){var e,n;e=t.core||(t.core={}),n=function(){function t(){this.bones=new Array,this.slots=new Array,this.skins=new Array,this.events=new Array,this.animations=new Array,this.ikConstraints=new Array,this.transformConstraints=new Array,this.pathConstraints=new Array,this.fps=0}return t.prototype.findBone=function(t){if(null==t)throw new Error("boneName cannot be null.");for(var e=this.bones,n=0,r=e.length;n<r;n++){var i=e[n];if(i.name==t)return i}return null},t.prototype.findBoneIndex=function(t){if(null==t)throw new Error("boneName cannot be null.");for(var e=this.bones,n=0,r=e.length;n<r;n++)if(e[n].name==t)return n;return-1},t.prototype.findSlot=function(t){if(null==t)throw new Error("slotName cannot be null.");for(var e=this.slots,n=0,r=e.length;n<r;n++){var i=e[n];if(i.name==t)return i}return null},t.prototype.findSlotIndex=function(t){if(null==t)throw new Error("slotName cannot be null.");for(var e=this.slots,n=0,r=e.length;n<r;n++)if(e[n].name==t)return n;return-1},t.prototype.findSkin=function(t){if(null==t)throw new Error("skinName cannot be null.");for(var e=this.skins,n=0,r=e.length;n<r;n++){var i=e[n];if(i.name==t)return i}return null},t.prototype.findEvent=function(t){if(null==t)throw new Error("eventDataName cannot be null.");for(var e=this.events,n=0,r=e.length;n<r;n++){var i=e[n];if(i.name==t)return i}return null},t.prototype.findAnimation=function(t){if(null==t)throw new Error("animationName cannot be null.");for(var e=this.animations,n=0,r=e.length;n<r;n++){var i=e[n];if(i.name==t)return i}return null},t.prototype.findIkConstraint=function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.ikConstraints,n=0,r=e.length;n<r;n++){var i=e[n];if(i.name==t)return i}return null},t.prototype.findTransformConstraint=function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.transformConstraints,n=0,r=e.length;n<r;n++){var i=e[n];if(i.name==t)return i}return null},t.prototype.findPathConstraint=function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.pathConstraints,n=0,r=e.length;n<r;n++){var i=e[n];if(i.name==t)return i}return null},t.prototype.findPathConstraintIndex=function(t){if(null==t)throw new Error("pathConstraintName cannot be null.");for(var e=this.pathConstraints,n=0,r=e.length;n<r;n++)if(e[n].name==t)return n;return-1},t}(),e.SkeletonData=n}(pixi_spine||(pixi_spine={})),function(t){!function($){var t=function(){function k(t){this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=t}return k.prototype.readSkeletonData=function(t){var e=this.scale,n=new $.SkeletonData,r="string"==typeof t?JSON.parse(t):t,i=r.skeleton;if(null!=i&&(n.hash=i.hash,n.version=i.spine,n.width=i.width,n.height=i.height,n.fps=i.fps,n.imagesPath=i.images),r.bones)for(var a=0;a<r.bones.length;a++){var o=r.bones[a],s=null,l=this.getValue(o,"parent",null);if(null!=l&&null==(s=n.findBone(l)))throw new Error("Parent bone not found: "+l);(p=new $.BoneData(n.bones.length,o.name,s)).length=this.getValue(o,"length",0)*e,p.x=this.getValue(o,"x",0)*e,p.y=this.getValue(o,"y",0)*e,p.rotation=this.getValue(o,"rotation",0),p.scaleX=this.getValue(o,"scaleX",1),p.scaleY=this.getValue(o,"scaleY",1),p.shearX=this.getValue(o,"shearX",0),p.shearY=this.getValue(o,"shearY",0),p.transformMode=k.transformModeFromString(this.getValue(o,"transform","normal")),n.bones.push(p)}if(r.slots)for(a=0;a<r.slots.length;a++){var h=(T=r.slots[a]).name,u=T.bone,c=n.findBone(u);if(null==c)throw new Error("Slot bone not found: "+u);var p=new $.SlotData(n.slots.length,h,c),f=this.getValue(T,"color",null);null!=f&&p.color.setFromString(f);var d=this.getValue(T,"dark",null);null!=d&&(p.darkColor=new $.Color(1,1,1,1),p.darkColor.setFromString(d)),p.attachmentName=this.getValue(T,"attachment",null),p.blendMode=k.blendModeFromString(this.getValue(T,"blend","normal")),n.slots.push(p)}if(r.ik)for(a=0;a<r.ik.length;a++){var m=r.ik[a];(p=new $.IkConstraintData(m.name)).order=this.getValue(m,"order",0);for(var g=0;g<m.bones.length;g++){u=m.bones[g];if(null==(y=n.findBone(u)))throw new Error("IK bone not found: "+u);p.bones.push(y)}var v=m.target;if(p.target=n.findBone(v),null==p.target)throw new Error("IK target bone not found: "+v);p.bendDirection=this.getValue(m,"bendPositive",!0)?1:-1,p.mix=this.getValue(m,"mix",1),n.ikConstraints.push(p)}if(r.transform)for(a=0;a<r.transform.length;a++){m=r.transform[a];(p=new $.TransformConstraintData(m.name)).order=this.getValue(m,"order",0);for(g=0;g<m.bones.length;g++){u=m.bones[g];if(null==(y=n.findBone(u)))throw new Error("Transform constraint bone not found: "+u);p.bones.push(y)}v=m.target;if(p.target=n.findBone(v),null==p.target)throw new Error("Transform constraint target bone not found: "+v);p.local=this.getValue(m,"local",!1),p.relative=this.getValue(m,"relative",!1),p.offsetRotation=this.getValue(m,"rotation",0),p.offsetX=this.getValue(m,"x",0)*e,p.offsetY=this.getValue(m,"y",0)*e,p.offsetScaleX=this.getValue(m,"scaleX",0),p.offsetScaleY=this.getValue(m,"scaleY",0),p.offsetShearY=this.getValue(m,"shearY",0),p.rotateMix=this.getValue(m,"rotateMix",1),p.translateMix=this.getValue(m,"translateMix",1),p.scaleMix=this.getValue(m,"scaleMix",1),p.shearMix=this.getValue(m,"shearMix",1),n.transformConstraints.push(p)}if(r.path)for(a=0;a<r.path.length;a++){m=r.path[a];(p=new $.PathConstraintData(m.name)).order=this.getValue(m,"order",0);for(g=0;g<m.bones.length;g++){var y;u=m.bones[g];if(null==(y=n.findBone(u)))throw new Error("Transform constraint bone not found: "+u);p.bones.push(y)}v=m.target;if(p.target=n.findSlot(v),null==p.target)throw new Error("Path target slot not found: "+v);p.positionMode=k.positionModeFromString(this.getValue(m,"positionMode","percent")),p.spacingMode=k.spacingModeFromString(this.getValue(m,"spacingMode","length")),p.rotateMode=k.rotateModeFromString(this.getValue(m,"rotateMode","tangent")),p.offsetRotation=this.getValue(m,"rotation",0),p.position=this.getValue(m,"position",0),p.positionMode==$.PositionMode.Fixed&&(p.position*=e),p.spacing=this.getValue(m,"spacing",0),p.spacingMode!=$.SpacingMode.Length&&p.spacingMode!=$.SpacingMode.Fixed||(p.spacing*=e),p.rotateMix=this.getValue(m,"rotateMix",1),p.translateMix=this.getValue(m,"translateMix",1),n.pathConstraints.push(p)}if(r.skins)for(var x in r.skins){var M=r.skins[x],w=new $.Skin(x);for(var h in M){var E=n.findSlotIndex(h);if(-1==E)throw new Error("Slot not found: "+h);var T=M[h];for(var b in T){var A=this.readAttachment(T[b],w,E,b,n);null!=A&&w.addAttachment(E,b,A)}}n.skins.push(w),"default"==w.name&&(n.defaultSkin=w)}a=0;for(var I=this.linkedMeshes.length;a<I;a++){var S=this.linkedMeshes[a];if(null==(w=null==S.skin?n.defaultSkin:n.findSkin(S.skin)))throw new Error("Skin not found: "+S.skin);var R=w.getAttachment(S.slotIndex,S.parent);if(null==R)throw new Error("Parent mesh not found: "+S.parent);S.mesh.setParentMesh(R)}if(this.linkedMeshes.length=0,r.events)for(var P in r.events){var C=r.events[P];(p=new $.EventData(P)).intValue=this.getValue(C,"int",0),p.floatValue=this.getValue(C,"float",0),p.stringValue=this.getValue(C,"string",""),n.events.push(p)}if(r.animations)for(var _ in r.animations){var V=r.animations[_];this.readAnimation(V,_,n)}return n},k.prototype.readAttachment=function(t,e,n,r,i){var a=this.scale;switch(r=this.getValue(t,"name",r),this.getValue(t,"type","region")){case"region":var o=this.getValue(t,"path",r),s=this.attachmentLoader.newRegionAttachment(e,r,o);return null==s?null:(s.path=o,s.x=this.getValue(t,"x",0)*a,s.y=this.getValue(t,"y",0)*a,s.scaleX=this.getValue(t,"scaleX",1),s.scaleY=this.getValue(t,"scaleY",1),s.rotation=this.getValue(t,"rotation",0),s.width=t.width*a,s.height=t.height*a,null!=(x=this.getValue(t,"color",null))&&s.color.setFromString(x),s);case"boundingbox":var l=this.attachmentLoader.newBoundingBoxAttachment(e,r);return null==l?null:(this.readVertices(t,l,t.vertexCount<<1),null!=(x=this.getValue(t,"color",null))&&l.color.setFromString(x),l);case"mesh":case"linkedmesh":o=this.getValue(t,"path",r);var h=this.attachmentLoader.newMeshAttachment(e,r,o);if(null==h)return null;h.path=o,null!=(x=this.getValue(t,"color",null))&&h.color.setFromString(x);var u=this.getValue(t,"parent",null);if(null!=u)return h.inheritDeform=this.getValue(t,"deform",!0),this.linkedMeshes.push(new M(h,this.getValue(t,"skin",null),n,u)),h;var c=t.uvs;return this.readVertices(t,h,c.length),h.triangles=t.triangles,h.regionUVs=c,h.hullLength=2*this.getValue(t,"hull",0),h;case"path":if(null==(o=this.attachmentLoader.newPathAttachment(e,r)))return null;o.closed=this.getValue(t,"closed",!1),o.constantSpeed=this.getValue(t,"constantSpeed",!0);var p=t.vertexCount;this.readVertices(t,o,p<<1);for(var f=$.Utils.newArray(p/3,0),d=0;d<t.lengths.length;d++)f[d]=t.lengths[d]*a;return o.lengths=f,null!=(x=this.getValue(t,"color",null))&&o.color.setFromString(x),o;case"point":var m=this.attachmentLoader.newPointAttachment(e,r);return null==m?null:(m.x=this.getValue(t,"x",0)*a,m.y=this.getValue(t,"y",0)*a,m.rotation=this.getValue(t,"rotation",0),null!=(x=this.getValue(t,"color",null))&&m.color.setFromString(x),m);case"clipping":var g=this.attachmentLoader.newClippingAttachment(e,r);if(null==g)return null;var v=this.getValue(t,"end",null);if(null!=v){var y=i.findSlot(v);if(null==y)throw new Error("Clipping end slot not found: "+v);g.endSlot=y}var x;p=t.vertexCount;return this.readVertices(t,g,p<<1),null!=(x=this.getValue(t,"color",null))&&g.color.setFromString(x),g}return null},k.prototype.readVertices=function(t,e,n){var r=this.scale;e.worldVerticesLength=n;var i=t.vertices;if(n!=i.length){var a=new Array,o=new Array;for(u=0,c=i.length;u<c;){var s=i[u++];o.push(s);for(var l=u+4*s;u<l;u+=4)o.push(i[u]),a.push(i[u+1]*r),a.push(i[u+2]*r),a.push(i[u+3])}e.bones=o,e.vertices=$.Utils.toFloatArray(a)}else{var h=$.Utils.toFloatArray(i);if(1!=r)for(var u=0,c=i.length;u<c;u++)h[u]*=r;e.vertices=h}},k.prototype.readAnimation=function(t,e,n){var r=this.scale,i=new Array,a=0;if(t.slots)for(var o in t.slots){var s=t.slots[o];if(-1==(Z=n.findSlotIndex(o)))throw new Error("Slot not found: "+o);for(var l in s){var h=s[l];if("attachment"==l){(x=new $.AttachmentTimeline(h.length)).slotIndex=Z;for(var u=0,c=0;c<h.length;c++){var p=h[c];x.setFrame(u++,p.time,p.name)}i.push(x),a=Math.max(a,x.frames[x.getFrameCount()-1])}else if("color"==l){(x=new $.ColorTimeline(h.length)).slotIndex=Z;for(u=0,c=0;c<h.length;c++){p=h[c];var f=new $.Color;f.setFromString(p.color||"ffffffff"),x.setFrame(u,p.time,f.r,f.g,f.b,f.a),this.readCurve(p,x,u),u++}i.push(x),a=Math.max(a,x.frames[(x.getFrameCount()-1)*$.ColorTimeline.ENTRIES])}else{if("twoColor"!=l)throw new Error("Invalid timeline type for a slot: "+l+" ("+o+")");(x=new $.TwoColorTimeline(h.length)).slotIndex=Z;for(u=0,c=0;c<h.length;c++){p=h[c];var d=new $.Color,m=new $.Color;d.setFromString(p.light),m.setFromString(p.dark),x.setFrame(u,p.time,d.r,d.g,d.b,d.a,m.r,m.g,m.b),this.readCurve(p,x,u),u++}i.push(x),a=Math.max(a,x.frames[(x.getFrameCount()-1)*$.TwoColorTimeline.ENTRIES])}}}if(t.bones)for(var g in t.bones){var v=t.bones[g],y=n.findBoneIndex(g);if(-1==y)throw new Error("Bone not found: "+g);for(var l in v){h=v[l];if("rotate"===l){(x=new $.RotateTimeline(h.length)).boneIndex=y;for(u=0,c=0;c<h.length;c++){p=h[c];x.setFrame(u,p.time,p.angle),this.readCurve(p,x,u),u++}i.push(x),a=Math.max(a,x.frames[(x.getFrameCount()-1)*$.RotateTimeline.ENTRIES])}else{if("translate"!==l&&"scale"!==l&&"shear"!==l)throw new Error("Invalid timeline type for a bone: "+l+" ("+g+")");var x=null,M=1;"scale"===l?x=new $.ScaleTimeline(h.length):"shear"===l?x=new $.ShearTimeline(h.length):(x=new $.TranslateTimeline(h.length),M=r),x.boneIndex=y;for(u=0,c=0;c<h.length;c++){p=h[c];var w=this.getValue(p,"x",0),E=this.getValue(p,"y",0);x.setFrame(u,p.time,w*M,E*M),this.readCurve(p,x,u),u++}i.push(x),a=Math.max(a,x.frames[(x.getFrameCount()-1)*$.TranslateTimeline.ENTRIES])}}}if(t.ik)for(var T in t.ik){var b=t.ik[T],A=n.findIkConstraint(T);(x=new $.IkConstraintTimeline(b.length)).ikConstraintIndex=n.ikConstraints.indexOf(A);for(u=0,c=0;c<b.length;c++){p=b[c];x.setFrame(u,p.time,this.getValue(p,"mix",1),this.getValue(p,"bendPositive",!0)?1:-1),this.readCurve(p,x,u),u++}i.push(x),a=Math.max(a,x.frames[(x.getFrameCount()-1)*$.IkConstraintTimeline.ENTRIES])}if(t.transform)for(var T in t.transform){b=t.transform[T],A=n.findTransformConstraint(T);(x=new $.TransformConstraintTimeline(b.length)).transformConstraintIndex=n.transformConstraints.indexOf(A);for(u=0,c=0;c<b.length;c++){p=b[c];x.setFrame(u,p.time,this.getValue(p,"rotateMix",1),this.getValue(p,"translateMix",1),this.getValue(p,"scaleMix",1),this.getValue(p,"shearMix",1)),this.readCurve(p,x,u),u++}i.push(x),a=Math.max(a,x.frames[(x.getFrameCount()-1)*$.TransformConstraintTimeline.ENTRIES])}if(t.paths)for(var T in t.paths){b=t.paths[T];var I=n.findPathConstraintIndex(T);if(-1==I)throw new Error("Path constraint not found: "+T);var S=n.pathConstraints[I];for(var l in b){h=b[l];if("position"===l||"spacing"===l){x=null,M=1;"spacing"===l?(x=new $.PathConstraintSpacingTimeline(h.length),S.spacingMode!=$.SpacingMode.Length&&S.spacingMode!=$.SpacingMode.Fixed||(M=r)):(x=new $.PathConstraintPositionTimeline(h.length),S.positionMode==$.PositionMode.Fixed&&(M=r)),x.pathConstraintIndex=I;for(u=0,c=0;c<h.length;c++){p=h[c];x.setFrame(u,p.time,this.getValue(p,l,0)*M),this.readCurve(p,x,u),u++}i.push(x),a=Math.max(a,x.frames[(x.getFrameCount()-1)*$.PathConstraintPositionTimeline.ENTRIES])}else if("mix"===l){(x=new $.PathConstraintMixTimeline(h.length)).pathConstraintIndex=I;for(u=0,c=0;c<h.length;c++){p=h[c];x.setFrame(u,p.time,this.getValue(p,"rotateMix",1),this.getValue(p,"translateMix",1)),this.readCurve(p,x,u),u++}i.push(x),a=Math.max(a,x.frames[(x.getFrameCount()-1)*$.PathConstraintMixTimeline.ENTRIES])}}}if(t.deform)for(var R in t.deform){var P=t.deform[R],C=n.findSkin(R);if(null==C)throw new Error("Skin not found: "+R);for(var o in P){s=P[o];if(-1==(Z=n.findSlotIndex(o)))throw new Error("Slot not found: "+s.name);for(var l in s){h=s[l];var _=C.getAttachment(Z,l);if(null==_)throw new Error("Deform attachment not found: "+h.name);var V=null!=_.bones,k=_.vertices,N=V?k.length/3*2:k.length;(x=new $.DeformTimeline(h.length)).slotIndex=Z,x.attachment=_;u=0;for(var D=0;D<h.length;D++){p=h[D];var X=void 0,U=this.getValue(p,"vertices",null);if(null==U)X=V?$.Utils.newFloatArray(N):k;else{X=$.Utils.newFloatArray(N);var O=this.getValue(p,"offset",0);if($.Utils.arrayCopy(U,0,X,O,U.length),1!=r)for(var Y=(c=O)+U.length;c<Y;c++)X[c]*=r;if(!V)for(c=0;c<N;c++)X[c]+=k[c]}x.setFrame(u,p.time,X),this.readCurve(p,x,u),u++}i.push(x),a=Math.max(a,x.frames[x.getFrameCount()-1])}}}var F=t.drawOrder;if(null==F&&(F=t.draworder),null!=F){x=new $.DrawOrderTimeline(F.length);var L=n.slots.length;for(u=0,D=0;D<F.length;D++){var B=F[D],W=null,q=this.getValue(B,"offsets",null);if(null!=q){W=$.Utils.newArray(L,-1);var j=$.Utils.newArray(L-q.length,0),G=0,z=0;for(c=0;c<q.length;c++){var Z,H=q[c];if(-1==(Z=n.findSlotIndex(H.slot)))throw new Error("Slot not found: "+H.slot);for(;G!=Z;)j[z++]=G++;W[G+H.offset]=G++}for(;G<L;)j[z++]=G++;for(c=L-1;0<=c;c--)-1==W[c]&&(W[c]=j[--z])}x.setFrame(u++,B.time,W)}i.push(x),a=Math.max(a,x.frames[x.getFrameCount()-1])}if(t.events){for(x=new $.EventTimeline(t.events.length),u=0,c=0;c<t.events.length;c++){var J=t.events[c],Q=n.findEvent(J.name);if(null==Q)throw new Error("Event not found: "+J.name);var K=new $.Event($.Utils.toSinglePrecision(J.time),Q);K.intValue=this.getValue(J,"int",Q.intValue),K.floatValue=this.getValue(J,"float",Q.floatValue),K.stringValue=this.getValue(J,"string",Q.stringValue),x.setFrame(u++,K)}i.push(x),a=Math.max(a,x.frames[x.getFrameCount()-1])}if(isNaN(a))throw new Error("Error while parsing animation, duration is NaN");n.animations.push(new $.Animation(e,i,a))},k.prototype.readCurve=function(t,e,n){if(t.curve)if("stepped"===t.curve)e.setStepped(n);else if("[object Array]"===Object.prototype.toString.call(t.curve)){var r=t.curve;e.setCurve(n,r[0],r[1],r[2],r[3])}},k.prototype.getValue=function(t,e,n){return void 0!==t[e]?t[e]:n},k.blendModeFromString=function(t){if("normal"==(t=t.toLowerCase()))return $.BlendMode.Normal;if("additive"==t)return $.BlendMode.Additive;if("multiply"==t)return $.BlendMode.Multiply;if("screen"==t)return $.BlendMode.Screen;throw new Error("Unknown blend mode: "+t)},k.positionModeFromString=function(t){if("fixed"==(t=t.toLowerCase()))return $.PositionMode.Fixed;if("percent"==t)return $.PositionMode.Percent;throw new Error("Unknown position mode: "+t)},k.spacingModeFromString=function(t){if("length"==(t=t.toLowerCase()))return $.SpacingMode.Length;if("fixed"==t)return $.SpacingMode.Fixed;if("percent"==t)return $.SpacingMode.Percent;throw new Error("Unknown position mode: "+t)},k.rotateModeFromString=function(t){if("tangent"==(t=t.toLowerCase()))return $.RotateMode.Tangent;if("chain"==t)return $.RotateMode.Chain;if("chainscale"==t)return $.RotateMode.ChainScale;throw new Error("Unknown rotate mode: "+t)},k.transformModeFromString=function(t){if("normal"==(t=t.toLowerCase()))return $.TransformMode.Normal;if("onlytranslation"==t)return $.TransformMode.OnlyTranslation;if("norotationorreflection"==t)return $.TransformMode.NoRotationOrReflection;if("noscale"==t)return $.TransformMode.NoScale;if("noscaleorreflection"==t)return $.TransformMode.NoScaleOrReflection;throw new Error("Unknown transform mode: "+t)},k}();$.SkeletonJson=t;var M=function(t,e,n,r){this.mesh=t,this.skin=e,this.slotIndex=n,this.parent=r}}(t.core||(t.core={}))}(pixi_spine||(pixi_spine={})),function(t){var e,n;e=t.core||(t.core={}),n=function(){function t(t){if(this.attachments=new Array,null==t)throw new Error("name cannot be null.");this.name=t}return t.prototype.addAttachment=function(t,e,n){if(null==n)throw new Error("attachment cannot be null.");var r=this.attachments;t>=r.length&&(r.length=t+1),r[t]||(r[t]={}),r[t][e]=n},t.prototype.getAttachment=function(t,e){var n=this.attachments[t];return n?n[e]:null},t.prototype.attachAll=function(t,e){for(var n=0,r=0;r<t.slots.length;r++){var i=t.slots[r],a=i.getAttachment();if(a&&n<e.attachments.length){var o=e.attachments[n];for(var s in o){if(a==o[s]){var l=this.getAttachment(n,name);null!=l&&i.setAttachment(l);break}}}n++}},t}(),e.Skin=n}(pixi_spine||(pixi_spine={})),function(t){var n,e;n=t.core||(t.core={}),e=function(){function t(t,e){if(this.attachmentVertices=new Array,null==t)throw new Error("data cannot be null.");if(null==e)throw new Error("bone cannot be null.");this.data=t,this.bone=e,this.color=new n.Color,this.darkColor=null==t.darkColor?null:new n.Color,this.setToSetupPose(),this.blendMode=this.data.blendMode}return t.prototype.getAttachment=function(){return this.attachment},t.prototype.setAttachment=function(t){this.attachment!=t&&(this.attachment=t,this.attachmentTime=this.bone.skeleton.time,this.attachmentVertices.length=0)},t.prototype.setAttachmentTime=function(t){this.attachmentTime=this.bone.skeleton.time-t},t.prototype.getAttachmentTime=function(){return this.bone.skeleton.time-this.attachmentTime},t.prototype.setToSetupPose=function(){this.color.setFromColor(this.data.color),null!=this.darkColor&&this.darkColor.setFromColor(this.data.darkColor),null==this.data.attachmentName?this.attachment=null:(this.attachment=null,this.setAttachment(this.bone.skeleton.getAttachment(this.data.index,this.data.attachmentName)))},t}(),n.Slot=e}(pixi_spine||(pixi_spine={})),function(t){var r,e;r=t.core||(t.core={}),e=function(t,e,n){if(this.color=new r.Color(1,1,1,1),t<0)throw new Error("index must be >= 0.");if(null==e)throw new Error("name cannot be null.");if(null==n)throw new Error("boneData cannot be null.");this.index=t,this.name=e,this.boneData=n},r.SlotData=e}(pixi_spine||(pixi_spine={})),function(t){!function(t){var e,n,r,i,a=function(){function t(t){this._image=t}return t.prototype.getImage=function(){return this._image},t.filterFromString=function(t){switch(t.toLowerCase()){case"nearest":return e.Nearest;case"linear":return e.Linear;case"mipmap":return e.MipMap;case"mipmapnearestnearest":return e.MipMapNearestNearest;case"mipmaplinearnearest":return e.MipMapLinearNearest;case"mipmapnearestlinear":return e.MipMapNearestLinear;case"mipmaplinearlinear":return e.MipMapLinearLinear;default:throw new Error("Unknown texture filter "+t)}},t.wrapFromString=function(t){switch(t.toLowerCase()){case"mirroredtepeat":return r.MirroredRepeat;case"clamptoedge":return r.ClampToEdge;case"repeat":return r.Repeat;default:throw new Error("Unknown texture wrap "+t)}},t}();t.Texture=a,(n=e=t.TextureFilter||(t.TextureFilter={}))[n.Nearest=9728]="Nearest",n[n.Linear=9729]="Linear",n[n.MipMap=9987]="MipMap",n[n.MipMapNearestNearest=9984]="MipMapNearestNearest",n[n.MipMapLinearNearest=9985]="MipMapLinearNearest",n[n.MipMapNearestLinear=9986]="MipMapNearestLinear",n[n.MipMapLinearLinear=9987]="MipMapLinearLinear",(i=r=t.TextureWrap||(t.TextureWrap={}))[i.MirroredRepeat=33648]="MirroredRepeat",i[i.ClampToEdge=33071]="ClampToEdge",i[i.Repeat=10497]="Repeat";var o=function(){function t(){this.size=null}return Object.defineProperty(t.prototype,"width",{get:function(){var t=this.texture;return"3"==PIXI.VERSION[0]?t.crop.width:t.trim?t.trim.width:t.orig.width},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){var t=this.texture;return"3"==PIXI.VERSION[0]?t.crop.height:t.trim?t.trim.height:t.orig.height},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"u",{get:function(){return this.texture._uvs.x0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"v",{get:function(){return this.texture._uvs.y0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"u2",{get:function(){return this.texture._uvs.x2},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"v2",{get:function(){return this.texture._uvs.y2},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"offsetX",{get:function(){var t=this.texture;return t.trim?t.trim.x:0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"offsetY",{get:function(){return console.warn("Deprecation Warning: @Hackerham: I guess, if you are using PIXI-SPINE ATLAS region.offsetY, you want a texture, right? Use region.texture from now on."),this.spineOffsetY},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixiOffsetY",{get:function(){var t=this.texture;return t.trim?t.trim.y:0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"spineOffsetY",{get:function(){var t=this.texture;return this.originalHeight-this.height-(t.trim?t.trim.y:0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"originalWidth",{get:function(){var t=this.texture;return"3"==PIXI.VERSION[0]?t.trim?t.trim.width:t.crop.width:t.orig.width},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"originalHeight",{get:function(){var t=this.texture;return"3"==PIXI.VERSION[0]?t.trim?t.trim.height:t.crop.height:t.orig.height},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"x",{get:function(){return this.texture.frame.x},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this.texture.frame.y},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rotate",{get:function(){return 0!==this.texture.rotate},enumerable:!0,configurable:!0}),t}();t.TextureRegion=o}(t.core||(t.core={}))}(pixi_spine||(pixi_spine={})),function(t){!function(A){var t=function(){function t(t,e,n){this.pages=new Array,this.regions=new Array,t&&this.addSpineAtlas(t,e,n)}return t.prototype.addTexture=function(t,e){for(var n=this.pages,r=null,i=0;i<n.length;i++)if(n[i].baseTexture===e.baseTexture){r=n[i];break}if(null===r){(r=new I).name="texturePage";var a=e.baseTexture;r.width=a.realWidth,r.height=a.realHeight,r.baseTexture=a,r.minFilter=r.magFilter=A.TextureFilter.Nearest,r.uWrap=A.TextureWrap.ClampToEdge,r.vWrap=A.TextureWrap.ClampToEdge,n.push(r)}var o=new S;return o.name=t,o.page=r,o.texture=e,o.index=-1,this.regions.push(o),o},t.prototype.addTextureHash=function(t,e){for(var n in t)t.hasOwnProperty(n)&&this.addTexture(e&&-1!==n.indexOf(".")?n.substr(0,n.lastIndexOf(".")):n,t[n])},t.prototype.addSpineAtlas=function(t,e,n){return this.load(t,e,n)},t.prototype.load=function(t,y,x){var M=this;if(null==y)throw new Error("textureLoader cannot be null.");var w=new e(t),E=new Array(4),T=null,b=function(){for(;;){var t=w.readLine();if(null==t)return x&&x(M);if(0==(t=t.trim()).length)T=null;else{if(!T){(T=new I).name=t,2==w.readTuple(E)&&(T.width=parseInt(E[0]),T.height=parseInt(E[1]),w.readTuple(E)),w.readTuple(E),T.minFilter=A.Texture.filterFromString(E[0]),T.magFilter=A.Texture.filterFromString(E[1]);var e=w.readValue();T.uWrap=A.TextureWrap.ClampToEdge,T.vWrap=A.TextureWrap.ClampToEdge,"x"==e?T.uWrap=A.TextureWrap.Repeat:"y"==e?T.vWrap=A.TextureWrap.Repeat:"xy"==e&&(T.uWrap=T.vWrap=A.TextureWrap.Repeat),y(t,function(t){(T.baseTexture=t).hasLoaded||(t.width=T.width,t.height=T.height),M.pages.push(T),T.setFilters(),T.width&&T.height||(T.width=t.realWidth,T.height=t.realHeight,T.width&&T.height||console.log("ERROR spine atlas page "+T.name+": meshes wont work if you dont specify size in atlas (http://www.html5gamedevs.com/topic/18888-pixi-spines-and-meshes/?p=107121)")),b()}),M.pages.push(T);break}var n=new S;n.name=t,n.page=T;var r="true"==w.readValue()?6:0;w.readTuple(E);var i=parseInt(E[0]),a=parseInt(E[1]);w.readTuple(E);var o=parseInt(E[0]),s=parseInt(E[1]),l=T.baseTexture.resolution;i/=l,a/=l,o/=l,s/=l;var h=new PIXI.Rectangle(i,a,r?s:o,r?o:s);4==w.readTuple(E)&&4==w.readTuple(E)&&w.readTuple(E);var u=parseInt(E[0])/l,c=parseInt(E[1])/l;w.readTuple(E);var p=parseInt(E[0])/l,f=parseInt(E[1])/l,d=new PIXI.Rectangle(0,0,u,c),m=new PIXI.Rectangle(p,c-s-f,o,s);if("3"!=PIXI.VERSION[0])n.texture=new PIXI.Texture(n.page.baseTexture,h,d,m,r);else{var g=new PIXI.Rectangle(i,a,o,s),v=g.clone();m.width=u,m.height=c,n.texture=new PIXI.Texture(n.page.baseTexture,g,v,m,r)}n.index=parseInt(w.readValue()),n.texture._updateUvs(),M.regions.push(n)}}};b()},t.prototype.findRegion=function(t){for(var e=0;e<this.regions.length;e++)if(this.regions[e].name==t)return this.regions[e];return null},t.prototype.dispose=function(){for(var t=0;t<this.pages.length;t++)this.pages[t].baseTexture.dispose()},t}();A.TextureAtlas=t;var e=function(){function t(t){this.index=0,this.lines=t.split(/\r\n|\r|\n/)}return t.prototype.readLine=function(){return this.index>=this.lines.length?null:this.lines[this.index++]},t.prototype.readValue=function(){var t=this.readLine(),e=t.indexOf(":");if(-1==e)throw new Error("Invalid line: "+t);return t.substring(e+1).trim()},t.prototype.readTuple=function(t){var e=this.readLine(),n=e.indexOf(":");if(-1==n)throw new Error("Invalid line: "+e);for(var r=0,i=n+1;r<3;r++){var a=e.indexOf(",",i);if(-1==a)break;t[r]=e.substr(i,a-i).trim(),i=a+1}return t[r]=e.substring(i).trim(),r+1},t}(),I=function(){function t(){}return t.prototype.setFilters=function(){var t=this.baseTexture,e=this.minFilter;e==A.TextureFilter.Linear?t.scaleMode=PIXI.SCALE_MODES.LINEAR:this.minFilter==A.TextureFilter.Nearest?t.scaleMode=PIXI.SCALE_MODES.NEAREST:(t.mipmap=!0,e==A.TextureFilter.MipMapNearestNearest?t.scaleMode=PIXI.SCALE_MODES.NEAREST:t.scaleMode=PIXI.SCALE_MODES.LINEAR)},t}();A.TextureAtlasPage=I;var S=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e}(A.TextureRegion);A.TextureAtlasRegion=S}(t.core||(t.core={}))}(pixi_spine||(pixi_spine={})),function(t){var C,e;C=t.core||(t.core={}),e=function(){function t(t,e){if(this.rotateMix=0,this.translateMix=0,this.scaleMix=0,this.shearMix=0,this.temp=new C.Vector2,null==t)throw new Error("data cannot be null.");if(null==e)throw new Error("skeleton cannot be null.");this.data=t,this.rotateMix=t.rotateMix,this.translateMix=t.translateMix,this.scaleMix=t.scaleMix,this.shearMix=t.shearMix,this.bones=new Array;for(var n=0;n<t.bones.length;n++)this.bones.push(e.findBone(t.bones[n].name));this.target=e.findBone(t.target.name)}return t.prototype.apply=function(){this.update()},t.prototype.update=function(){this.data.local?this.data.relative?this.applyRelativeLocal():this.applyAbsoluteLocal():this.data.relative?this.applyRelativeWorld():this.applyAbsoluteWorld()},t.prototype.applyAbsoluteWorld=function(){for(var t=this.rotateMix,e=this.translateMix,n=this.scaleMix,r=this.shearMix,i=this.target,a=i.matrix,o=a.a,s=a.c,l=a.b,h=a.d,u=0<o*h-s*l?C.MathUtils.degRad:-C.MathUtils.degRad,c=this.data.offsetRotation*u,p=this.data.offsetShearY*u,f=this.bones,d=0,m=f.length;d<m;d++){var g=f[d],v=!1,y=g.matrix;if(0!=t){var x=y.a,M=y.c,w=y.b,E=y.d;(R=Math.atan2(l,o)-Math.atan2(w,x)+c)>C.MathUtils.PI?R-=C.MathUtils.PI2:R<-C.MathUtils.PI&&(R+=C.MathUtils.PI2),R*=t;var T=Math.cos(R),b=Math.sin(R);y.a=T*x-b*w,y.c=T*M-b*E,y.b=b*x+T*w,y.d=b*M+T*E,v=!0}if(0!=e){var A=this.temp;i.localToWorld(A.set(this.data.offsetX,this.data.offsetY)),y.tx+=(A.x-y.tx)*e,y.ty+=(A.y-y.ty)*e,v=!0}if(0<n){var I=Math.sqrt(y.a*y.a+y.b*y.b),S=Math.sqrt(o*o+l*l);1e-5<I&&(I=(I+(S-I+this.data.offsetScaleX)*n)/I),y.a*=I,y.b*=I,I=Math.sqrt(y.c*y.c+y.d*y.d),S=Math.sqrt(s*s+h*h),1e-5<I&&(I=(I+(S-I+this.data.offsetScaleY)*n)/I),y.c*=I,y.d*=I,v=!0}if(0<r){M=y.c,E=y.d;var R,P=Math.atan2(E,M);(R=Math.atan2(h,s)-Math.atan2(l,o)-(P-Math.atan2(y.b,y.a)))>C.MathUtils.PI?R-=C.MathUtils.PI2:R<-C.MathUtils.PI&&(R+=C.MathUtils.PI2),R=P+(R+p)*r;I=Math.sqrt(M*M+E*E);y.c=Math.cos(R)*I,y.d=Math.sin(R)*I,v=!0}v&&(g.appliedValid=!1)}},t.prototype.applyRelativeWorld=function(){for(var t=this.rotateMix,e=this.translateMix,n=this.scaleMix,r=this.shearMix,i=this.target,a=i.matrix,o=a.a,s=a.c,l=a.b,h=a.d,u=0<o*h-s*l?C.MathUtils.degRad:-C.MathUtils.degRad,c=this.data.offsetRotation*u,p=this.data.offsetShearY*u,f=this.bones,d=0,m=f.length;d<m;d++){var g=f[d],v=!1,y=g.matrix;if(0!=t){var x=y.a,M=y.c,w=y.b,E=y.d;(S=Math.atan2(l,o)+c)>C.MathUtils.PI?S-=C.MathUtils.PI2:S<-C.MathUtils.PI&&(S+=C.MathUtils.PI2),S*=t;var T=Math.cos(S),b=Math.sin(S);y.a=T*x-b*w,y.c=T*M-b*E,y.b=b*x+T*w,y.d=b*M+T*E,v=!0}if(0!=e){var A=this.temp;i.localToWorld(A.set(this.data.offsetX,this.data.offsetY)),y.tx+=A.x*e,y.ty+=A.y*e,v=!0}if(0<n){var I=(Math.sqrt(o*o+l*l)-1+this.data.offsetScaleX)*n+1;y.a*=I,y.b*=I,I=(Math.sqrt(s*s+h*h)-1+this.data.offsetScaleY)*n+1,y.c*=I,y.d*=I,v=!0}if(0<r){var S;(S=Math.atan2(h,s)-Math.atan2(l,o))>C.MathUtils.PI?S-=C.MathUtils.PI2:S<-C.MathUtils.PI&&(S+=C.MathUtils.PI2);M=y.c,E=y.d;S=Math.atan2(E,M)+(S-C.MathUtils.PI/2+p)*r;I=Math.sqrt(M*M+E*E);y.c=Math.cos(S)*I,y.d=Math.sin(S)*I,v=!0}v&&(g.appliedValid=!1)}},t.prototype.applyAbsoluteLocal=function(){var t=this.rotateMix,e=this.translateMix,n=this.scaleMix,r=this.shearMix,i=this.target;i.appliedValid||i.updateAppliedTransform();for(var a=this.bones,o=0,s=a.length;o<s;o++){var l=a[o];l.appliedValid||l.updateAppliedTransform();var h=l.arotation;if(0!=t){var u=i.arotation-h+this.data.offsetRotation;h+=(u-=360*(16384-(16384.499999999996-u/360|0)))*t}var c=l.ax,p=l.ay;0!=e&&(c+=(i.ax-c+this.data.offsetX)*e,p+=(i.ay-p+this.data.offsetY)*e);var f=l.ascaleX,d=l.ascaleY;0<n&&(1e-5<f&&(f=(f+(i.ascaleX-f+this.data.offsetScaleX)*n)/f),1e-5<d&&(d=(d+(i.ascaleY-d+this.data.offsetScaleY)*n)/d));var m=l.ashearY;if(0<r){u=i.ashearY-m+this.data.offsetShearY;u-=360*(16384-(16384.499999999996-u/360|0)),l.shearY+=u*r}l.updateWorldTransformWith(c,p,h,f,d,l.ashearX,m)}},t.prototype.applyRelativeLocal=function(){var t=this.rotateMix,e=this.translateMix,n=this.scaleMix,r=this.shearMix,i=this.target;i.appliedValid||i.updateAppliedTransform();for(var a=this.bones,o=0,s=a.length;o<s;o++){var l=a[o];l.appliedValid||l.updateAppliedTransform();var h=l.arotation;0!=t&&(h+=(i.arotation+this.data.offsetRotation)*t);var u=l.ax,c=l.ay;0!=e&&(u+=(i.ax+this.data.offsetX)*e,c+=(i.ay+this.data.offsetY)*e);var p=l.ascaleX,f=l.ascaleY;0<n&&(1e-5<p&&(p*=(i.ascaleX-1+this.data.offsetScaleX)*n+1),1e-5<f&&(f*=(i.ascaleY-1+this.data.offsetScaleY)*n+1));var d=l.ashearY;0<r&&(d+=(i.ashearY+this.data.offsetShearY)*r),l.updateWorldTransformWith(u,c,h,p,f,l.ashearX,d)}},t.prototype.getOrder=function(){return this.data.order},t}(),C.TransformConstraint=e}(pixi_spine||(pixi_spine={})),function(t){var e;e=function(t){if(this.order=0,this.bones=new Array,this.rotateMix=0,this.translateMix=0,this.scaleMix=0,this.shearMix=0,this.offsetRotation=0,this.offsetX=0,this.offsetY=0,this.offsetScaleX=0,this.offsetScaleY=0,this.offsetShearY=0,this.relative=!1,this.local=!1,null==t)throw new Error("name cannot be null.");this.name=t},(t.core||(t.core={})).TransformConstraintData=e}(pixi_spine||(pixi_spine={})),function(t){var e,n;e=t.core||(t.core={}),n=function(){function L(){this.convexPolygons=new Array,this.convexPolygonsIndices=new Array,this.indicesArray=new Array,this.isConcaveArray=new Array,this.triangles=new Array,this.polygonPool=new e.Pool(function(){return new Array}),this.polygonIndicesPool=new e.Pool(function(){return new Array})}return L.prototype.triangulate=function(t){for(var e=t,n=t.length>>1,r=this.indicesArray,i=r.length=0;i<n;i++)r[i]=i;for(var a=this.isConcaveArray,o=(i=a.length=0,n);i<o;++i)a[i]=L.isConcave(i,n,e,r);var s=this.triangles;for(s.length=0;3<n;){for(var l=n-1,h=(i=0,1);;){t:if(!a[i]){for(var u=r[l]<<1,c=r[i]<<1,p=r[h]<<1,f=e[u],d=e[u+1],m=e[c],g=e[c+1],v=e[p],y=e[p+1],x=(h+1)%n;x!=l;x=(x+1)%n)if(a[x]){var M=r[x]<<1,w=e[M],E=e[M+1];if(L.positiveArea(v,y,f,d,w,E)&&L.positiveArea(f,d,m,g,w,E)&&L.positiveArea(m,g,v,y,w,E))break t}break}if(0==h){do{if(!a[i])break;i--}while(0<i);break}l=i,h=((i=h)+1)%n}s.push(r[(n+i-1)%n]),s.push(r[i]),s.push(r[(i+1)%n]),r.splice(i,1),a.splice(i,1);var T=(--n+i-1)%n,b=i==n?0:i;a[T]=L.isConcave(T,n,e,r),a[b]=L.isConcave(b,n,e,r)}return 3==n&&(s.push(r[2]),s.push(r[0]),s.push(r[1])),s},L.prototype.decompose=function(t,e){var n=t,r=this.convexPolygons;this.polygonPool.freeAll(r),r.length=0;var i=this.convexPolygonsIndices;this.polygonIndicesPool.freeAll(i),i.length=0;var a=this.polygonIndicesPool.obtain();a.length=0;for(var o=this.polygonPool.obtain(),s=-1,l=o.length=0,h=0,u=e.length;h<u;h+=3){var c=e[h]<<1,p=e[h+1]<<1,f=e[h+2]<<1,d=n[c],m=n[c+1],g=n[p],v=n[p+1],y=n[f],x=n[f+1],M=!1;if(s==c){var w=o.length-4,E=L.winding(o[w],o[w+1],o[w+2],o[w+3],y,x),T=L.winding(y,x,o[0],o[1],o[2],o[3]);E==l&&T==l&&(o.push(y),o.push(x),a.push(f),M=!0)}M||(0<o.length?(r.push(o),i.push(a)):(this.polygonPool.free(o),this.polygonIndicesPool.free(a)),(o=this.polygonPool.obtain()).length=0,o.push(d),o.push(m),o.push(g),o.push(v),o.push(y),o.push(x),(a=this.polygonIndicesPool.obtain()).length=0,a.push(c),a.push(p),a.push(f),l=L.winding(d,m,g,v,y,x),s=c)}0<o.length&&(r.push(o),i.push(a));for(h=0,u=r.length;h<u;h++)if(0!=(a=i[h]).length)for(var b=a[0],A=a[a.length-1],I=(o=r[h])[w=o.length-4],S=o[w+1],R=o[w+2],P=o[w+3],C=o[0],_=o[1],V=o[2],k=o[3],N=L.winding(I,S,R,P,C,_),D=0;D<u;D++)if(D!=h){var X=i[D];if(3==X.length){var U=X[0],O=X[1],Y=X[2],F=r[D];y=F[F.length-2],x=F[F.length-1];if(U==b&&O==A){E=L.winding(I,S,R,P,y,x),T=L.winding(y,x,C,_,V,k);E==N&&T==N&&(F.length=0,X.length=0,o.push(y),o.push(x),a.push(Y),I=R,S=P,R=y,P=x,D=0)}}}for(h=r.length-1;0<=h;h--)0==(o=r[h]).length&&(r.splice(h,1),this.polygonPool.free(o),a=i[h],i.splice(h,1),this.polygonIndicesPool.free(a));return r},L.isConcave=function(t,e,n,r){var i=r[(e+t-1)%e]<<1,a=r[t]<<1,o=r[(t+1)%e]<<1;return!this.positiveArea(n[i],n[i+1],n[a],n[a+1],n[o],n[o+1])},L.positiveArea=function(t,e,n,r,i,a){return 0<=t*(a-r)+n*(e-a)+i*(r-e)},L.winding=function(t,e,n,r,i,a){var o=n-t,s=r-e;return 0<=i*s-a*o+o*e-t*s?1:-1},L}(),e.Triangulator=n}(pixi_spine||(pixi_spine={})),function(t){!function(t){var e=function(){function t(){this.array=new Array}return t.prototype.add=function(t){var e=this.contains(t);return this.array[0|t]=0|t,!e},t.prototype.contains=function(t){return null!=this.array[0|t]},t.prototype.remove=function(t){this.array[0|t]=void 0},t.prototype.clear=function(){this.array.length=0},t}();t.IntSet=e;var n=function(){function t(t,e,n,r){void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=0),void 0===r&&(r=0),this.r=t,this.g=e,this.b=n,this.a=r}return t.prototype.set=function(t,e,n,r){return this.r=t,this.g=e,this.b=n,this.a=r,this.clamp(),this},t.prototype.setFromColor=function(t){return this.r=t.r,this.g=t.g,this.b=t.b,this.a=t.a,this},t.prototype.setFromString=function(t){return t="#"==t.charAt(0)?t.substr(1):t,this.r=parseInt(t.substr(0,2),16)/255,this.g=parseInt(t.substr(2,2),16)/255,this.b=parseInt(t.substr(4,2),16)/255,this.a=(8!=t.length?255:parseInt(t.substr(6,2),16))/255,this},t.prototype.add=function(t,e,n,r){return this.r+=t,this.g+=e,this.b+=n,this.a+=r,this.clamp(),this},t.prototype.clamp=function(){return this.r<0?this.r=0:1<this.r&&(this.r=1),this.g<0?this.g=0:1<this.g&&(this.g=1),this.b<0?this.b=0:1<this.b&&(this.b=1),this.a<0?this.a=0:1<this.a&&(this.a=1),this},t.WHITE=new t(1,1,1,1),t.RED=new t(1,0,0,1),t.GREEN=new t(0,1,0,1),t.BLUE=new t(0,0,1,1),t.MAGENTA=new t(1,0,1,1),t}();t.Color=n;var r=function(){function n(){}return n.clamp=function(t,e,n){return t<e?e:n<t?n:t},n.cosDeg=function(t){return Math.cos(t*n.degRad)},n.sinDeg=function(t){return Math.sin(t*n.degRad)},n.signum=function(t){return 0<t?1:t<0?-1:0},n.toInt=function(t){return 0<t?Math.floor(t):Math.ceil(t)},n.cbrt=function(t){var e=Math.pow(Math.abs(t),1/3);return t<0?-e:e},n.randomTriangular=function(t,e){return n.randomTriangularWith(t,e,.5*(t+e))},n.randomTriangularWith=function(t,e,n){var r=Math.random(),i=e-t;return r<=(n-t)/i?t+Math.sqrt(r*i*(n-t)):e-Math.sqrt((1-r)*i*(e-n))},n.PI2=2*(n.PI=3.1415927),n.radDeg=n.radiansToDegrees=180/n.PI,n.degRad=n.degreesToRadians=n.PI/180,n}();t.MathUtils=r;var i=function(){function t(){}return t.prototype.apply=function(t,e,n){return t+(e-t)*this.applyInternal(n)},t}(),a=function(n){function t(t){var e=n.call(this)||this;return e.power=2,e.power=t,e}return __extends(t,n),t.prototype.applyInternal=function(t){return t<=.5?Math.pow(2*t,this.power)/2:Math.pow(2*(t-1),this.power)/(this.power%2==0?-2:2)+1},t}(t.Interpolation=i),o=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.applyInternal=function(t){return Math.pow(t-1,this.power)*(this.power%2==0?-1:1)+1},t}(t.Pow=a);t.PowOut=o;var s=function(){function r(){}return r.arrayCopy=function(t,e,n,r,i){for(var a=e,o=r;a<e+i;a++,o++)n[o]=t[a]},r.setArraySize=function(t,e,n){void 0===n&&(n=0);var r=t.length;if(r==e)return t;if(r<(t.length=e))for(var i=r;i<e;i++)t[i]=n;return t},r.ensureArrayCapacity=function(t,e,n){return void 0===n&&(n=0),t.length>=e?t:r.setArraySize(t,e,n)},r.newArray=function(t,e){for(var n=new Array(t),r=0;r<t;r++)n[r]=e;return n},r.newFloatArray=function(t){if(r.SUPPORTS_TYPED_ARRAYS)return new Float32Array(t);for(var e=new Array(t),n=0;n<e.length;n++)e[n]=0;return e},r.newShortArray=function(t){if(r.SUPPORTS_TYPED_ARRAYS)return new Int16Array(t);for(var e=new Array(t),n=0;n<e.length;n++)e[n]=0;return e},r.toFloatArray=function(t){return r.SUPPORTS_TYPED_ARRAYS?new Float32Array(t):t},r.toSinglePrecision=function(t){return r.SUPPORTS_TYPED_ARRAYS?Math.fround(t):t},r.SUPPORTS_TYPED_ARRAYS="undefined"!=typeof Float32Array,r}();t.Utils=s;var l=function(){function t(){}return t.logBones=function(t){for(var e=0;e<t.bones.length;e++){var n=t.bones[e],r=n.matrix;console.log(n.data.name+", "+r.a+", "+r.b+", "+r.c+", "+r.d+", "+r.tx+", "+r.ty)}},t}();t.DebugUtils=l;var h=function(){function t(t){this.items=new Array,this.instantiator=t}return t.prototype.obtain=function(){return 0<this.items.length?this.items.pop():this.instantiator()},t.prototype.free=function(t){t.reset&&t.reset(),this.items.push(t)},t.prototype.freeAll=function(t){for(var e=0;e<t.length;e++)t[e].reset&&t[e].reset(),this.items[e]=t[e]},t.prototype.clear=function(){this.items.length=0},t}();t.Pool=h;var u=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=t,this.y=e}return t.prototype.set=function(t,e){return this.x=t,this.y=e,this},t.prototype.length=function(){var t=this.x,e=this.y;return Math.sqrt(t*t+e*e)},t.prototype.normalize=function(){var t=this.length();return 0!=t&&(this.x/=t,this.y/=t),this},t}();t.Vector2=u;var c=function(){function t(){this.maxDelta=.064,this.framesPerSecond=0,this.delta=0,this.totalTime=0,this.lastTime=Date.now()/1e3,this.frameCount=0,this.frameTime=0}return t.prototype.update=function(){var t=Date.now()/1e3;this.delta=t-this.lastTime,this.frameTime+=this.delta,this.totalTime+=this.delta,this.delta>this.maxDelta&&(this.delta=this.maxDelta),this.lastTime=t,this.frameCount++,1<this.frameTime&&(this.framesPerSecond=this.frameCount/this.frameTime,this.frameTime=0,this.frameCount=0)},t}();t.TimeKeeper=c;var p=function(){function t(t){void 0===t&&(t=32),this.addedValues=0,this.lastValue=0,this.mean=0,this.dirty=!0,this.values=new Array(t)}return t.prototype.hasEnoughData=function(){return this.addedValues>=this.values.length},t.prototype.addValue=function(t){this.addedValues<this.values.length&&this.addedValues++,this.values[this.lastValue++]=t,this.lastValue>this.values.length-1&&(this.lastValue=0),this.dirty=!0},t.prototype.getMean=function(){if(this.hasEnoughData()){if(this.dirty){for(var t=0,e=0;e<this.values.length;e++)t+=this.values[e];this.mean=t/this.values.length,this.dirty=!1}return this.mean}return 0},t}();t.WindowedMean=p}(t.core||(t.core={}))}(pixi_spine||(pixi_spine={})),function(t){var e,n,r;e=t.core||(t.core={}),n=function(t){if(null==t)throw new Error("name cannot be null.");this.name=t},r=function(n){function r(t){var e=n.call(this,t)||this;return e.id=(65535&r.nextID++)<<11,e.worldVerticesLength=0,e}return __extends(r,n),r.prototype.computeWorldVerticesOld=function(t,e){this.computeWorldVertices(t,0,this.worldVerticesLength,e,0,2)},r.prototype.computeWorldVertices=function(t,e,n,r,i,a){n=i+(n>>1)*a;var o=t.bone.skeleton,s=t.attachmentVertices,l=this.vertices,h=this.bones;if(null!=h){for(var u=0,c=0,p=0;p<e;p+=2){u+=(g=h[u])+1,c+=g}var f=o.bones;if(0==s.length)for(R=i,b=3*c;R<n;R+=a){var d=0,m=0,g=h[u++];for(g+=u;u<g;u++,b+=3){M=f[h[u]].matrix,P=l[b],C=l[b+1];var v=l[b+2];d+=(P*M.a+C*M.c+M.tx)*v,m+=(P*M.b+C*M.d+M.ty)*v}r[R]=d,r[R+1]=m}else for(var y=s,x=(R=i,b=3*c,c<<1);R<n;R+=a){d=0,m=0,g=h[u++];for(g+=u;u<g;u++,b+=3,x+=2){M=f[h[u]].matrix,P=l[b]+y[x],C=l[b+1]+y[x+1],v=l[b+2];d+=(P*M.a+C*M.c+M.tx)*v,m+=(P*M.b+C*M.d+M.ty)*v}r[R]=d,r[R+1]=m}}else{0<s.length&&(l=s);for(var M,w=(M=t.bone.matrix).tx,E=M.ty,T=M.a,b=M.c,A=M.b,I=M.d,S=e,R=i;R<n;S+=2,R+=a){var P=l[S],C=l[S+1];r[R]=P*T+C*b+w,r[R+1]=P*A+C*I+E}}},r.prototype.applyDeform=function(t){return this==t},r.nextID=0,r}(e.Attachment=n),e.VertexAttachment=r}(pixi_spine||(pixi_spine={})),function(t){var e,n;e=t.core||(t.core={}),(n=e.AttachmentType||(e.AttachmentType={}))[n.Region=0]="Region",n[n.BoundingBox=1]="BoundingBox",n[n.Mesh=2]="Mesh",n[n.LinkedMesh=3]="LinkedMesh",n[n.Path=4]="Path",n[n.Point=5]="Point"}(pixi_spine||(pixi_spine={})),function(t){var r,e;r=t.core||(t.core={}),e=function(n){function t(t){var e=n.call(this,t)||this;return e.color=new r.Color(1,1,1,1),e}return __extends(t,n),t}(r.VertexAttachment),r.BoundingBoxAttachment=e}(pixi_spine||(pixi_spine={})),function(t){var r,e;r=t.core||(t.core={}),e=function(n){function t(t){var e=n.call(this,t)||this;return e.color=new r.Color(.2275,.2275,.8078,1),e}return __extends(t,n),t}(r.VertexAttachment),r.ClippingAttachment=e}(pixi_spine||(pixi_spine={})),function(t){var f,e;f=t.core||(t.core={}),e=function(n){function t(t){var e=n.call(this,t)||this;return e.color=new f.Color(1,1,1,1),e.inheritDeform=!1,e.tempColor=new f.Color(0,0,0,0),e}return __extends(t,n),t.prototype.updateUVs=function(t,e){var n=this.regionUVs.length;if(e&&e.length==n||(e=f.Utils.newFloatArray(n)),null!=t){for(var r=t.texture._uvs,i=t.width,a=t.height,o=t.originalWidth,s=t.originalHeight,l=t.offsetX,h=t.pixiOffsetY,u=0;u<n;u+=2){var c=this.regionUVs[u],p=this.regionUVs[u+1];c=(c*o-l)/i,p=(p*s-h)/a,e[u]=(r.x0*(1-c)+r.x1*c)*(1-p)+(r.x3*(1-c)+r.x2*c)*p,e[u+1]=(r.y0*(1-c)+r.y1*c)*(1-p)+(r.y3*(1-c)+r.y2*c)*p}return e}},t.prototype.applyDeform=function(t){return this==t||this.inheritDeform&&this.parentMesh==t},t.prototype.getParentMesh=function(){return this.parentMesh},t.prototype.setParentMesh=function(t){null!=(this.parentMesh=t)&&(this.bones=t.bones,this.vertices=t.vertices,this.worldVerticesLength=t.worldVerticesLength,this.regionUVs=t.regionUVs,this.triangles=t.triangles,this.hullLength=t.hullLength,this.worldVerticesLength=t.worldVerticesLength)},t}(f.VertexAttachment),f.MeshAttachment=e}(pixi_spine||(pixi_spine={})),function(t){var r,e;r=t.core||(t.core={}),e=function(n){function t(t){var e=n.call(this,t)||this;return e.closed=!1,e.constantSpeed=!1,e.color=new r.Color(1,1,1,1),e}return __extends(t,n),t}(r.VertexAttachment),r.PathAttachment=e}(pixi_spine||(pixi_spine={})),function(t){var o,e;o=t.core||(t.core={}),e=function(n){function t(t){var e=n.call(this,t)||this;return e.color=new o.Color(.38,.94,0,1),e}return __extends(t,n),t.prototype.computeWorldPosition=function(t,e){var n=t.matrix;return e.x=this.x*n.a+this.y*n.c+t.worldX,e.y=this.x*n.b+this.y*n.d+t.worldY,e},t.prototype.computeWorldRotation=function(t){var e=t.matrix,n=o.MathUtils.cosDeg(this.rotation),r=o.MathUtils.sinDeg(this.rotation),i=n*e.a+r*e.c,a=n*e.b+r*e.d;return Math.atan2(a,i)*o.MathUtils.radDeg},t}(o.VertexAttachment),o.PointAttachment=e}(pixi_spine||(pixi_spine={})),function(t){var r,e;r=t.core||(t.core={}),e=function(n){function y(t){var e=n.call(this,t)||this;return e.x=0,e.y=0,e.scaleX=1,e.scaleY=1,e.rotation=0,e.width=0,e.height=0,e.color=new r.Color(1,1,1,1),e.offset=r.Utils.newFloatArray(8),e.uvs=r.Utils.newFloatArray(8),e.tempColor=new r.Color(1,1,1,1),e}return __extends(y,n),y.prototype.updateOffset=function(){var t=this.width/this.region.originalWidth*this.scaleX,e=this.height/this.region.originalHeight*this.scaleY,n=-this.width/2*this.scaleX+this.region.offsetX*t,r=-this.height/2*this.scaleY+this.region.offsetY*e,i=n+this.region.width*t,a=r+this.region.height*e,o=this.rotation*Math.PI/180,s=Math.cos(o),l=Math.sin(o),h=n*s+this.x,u=n*l,c=r*s+this.y,p=r*l,f=i*s+this.x,d=i*l,m=a*s+this.y,g=a*l,v=this.offset;v[y.OX1]=h-p,v[y.OY1]=c+u,v[y.OX2]=h-g,v[y.OY2]=m+u,v[y.OX3]=f-g,v[y.OY3]=m+d,v[y.OX4]=f-p,v[y.OY4]=c+d},y.prototype.setRegion=function(t){this.region=t;var e=this.uvs;t.rotate?(e[2]=t.u,e[3]=t.v2,e[4]=t.u,e[5]=t.v,e[6]=t.u2,e[7]=t.v,e[0]=t.u2,e[1]=t.v2):(e[0]=t.u,e[1]=t.v2,e[2]=t.u,e[3]=t.v,e[4]=t.u2,e[5]=t.v,e[6]=t.u2,e[7]=t.v2)},y.prototype.computeWorldVertices=function(t,e,n,r){var i=this.offset,a=t.matrix,o=a.tx,s=a.ty,l=a.a,h=a.c,u=a.b,c=a.d,p=0,f=0;p=i[y.OX1],f=i[y.OY1],e[n]=p*l+f*h+o,e[n+1]=p*u+f*c+s,n+=r,p=i[y.OX2],f=i[y.OY2],e[n]=p*l+f*h+o,e[n+1]=p*u+f*c+s,n+=r,p=i[y.OX3],f=i[y.OY3],e[n]=p*l+f*h+o,e[n+1]=p*u+f*c+s,n+=r,p=i[y.OX4],f=i[y.OY4],e[n]=p*l+f*h+o,e[n+1]=p*u+f*c+s},y.OX1=0,y.OY1=1,y.OX2=2,y.OY2=3,y.OX3=4,y.OY3=5,y.OX4=6,y.OY4=7,y.X1=0,y.Y1=1,y.C1R=2,y.C1G=3,y.C1B=4,y.C1A=5,y.U1=6,y.V1=7,y.X2=8,y.Y2=9,y.C2R=10,y.C2G=11,y.C2B=12,y.C2A=13,y.U2=14,y.V2=15,y.X3=16,y.Y3=17,y.C3R=18,y.C3G=19,y.C3B=20,y.C3A=21,y.U3=22,y.V3=23,y.X4=24,y.Y4=25,y.C4R=26,y.C4G=27,y.C4B=28,y.C4A=29,y.U4=30,y.V4=31,y}(r.Attachment),r.RegionAttachment=e}(pixi_spine||(pixi_spine={})),function(t){var i,e;i=t.core||(t.core={}),e=function(){function t(t,e){this.jitterX=0,this.jitterY=0,this.jitterX=t,this.jitterY=e}return t.prototype.begin=function(t){},t.prototype.transform=function(t,e,n,r){t.x+=i.MathUtils.randomTriangular(-this.jitterX,this.jitterY),t.y+=i.MathUtils.randomTriangular(-this.jitterX,this.jitterY)},t.prototype.end=function(){},t}(),i.JitterEffect=e}(pixi_spine||(pixi_spine={})),function(t){var p,e;p=t.core||(t.core={}),e=function(){function c(t){this.centerX=0,this.centerY=0,this.radius=0,this.angle=0,this.worldX=0,this.worldY=0,this.radius=t}return c.prototype.begin=function(t){this.worldX=t.x+this.centerX,this.worldY=t.y+this.centerY},c.prototype.transform=function(t,e,n,r){var i=this.angle*p.MathUtils.degreesToRadians,a=t.x-this.worldX,o=t.y-this.worldY,s=Math.sqrt(a*a+o*o);if(s<this.radius){var l=c.interpolation.apply(0,i,(this.radius-s)/this.radius),h=Math.cos(l),u=Math.sin(l);t.x=h*a-u*o+this.worldX,t.y=u*a+h*o+this.worldY}},c.prototype.end=function(){},c.interpolation=new p.PowOut(2),c}(),p.SwirlEffect=e}(pixi_spine||(pixi_spine={})),function(t){PIXI.spine=t;var e=PIXI.Texture.prototype;e._updateUvs||(e._updateUvs=e.updateUvs)}(pixi_spine||(pixi_spine={})),function(f){function t(){return function(n,r){if(!n.data||n.type!==PIXI.loaders.Resource.TYPE.JSON||!n.data.bones)return r();var t=n.metadata||{},i=t?n.metadata.spineSkeletonScale:null,e=t?n.metadata.spineAtlas:null;if(!1===e)return r();if(e&&e.pages){var a=new f.core.SkeletonJson(new f.core.AtlasAttachmentLoader(e)).readSkeletonData(n.data);return n.spineData=a,n.spineAtlas=e,r()}var o=t.spineAtlasSuffix||".atlas",s=n.url.substr(0,n.url.lastIndexOf("."))+o;n.metadata&&n.metadata.spineAtlasFile&&(s=n.metadata.spineAtlasFile),s=s.replace(this.baseUrl,"");var l={crossOrigin:n.crossOrigin,xhrType:PIXI.loaders.Resource.XHR_RESPONSE_TYPE.TEXT,metadata:t.spineMetadata||null,parentResource:n},h={crossOrigin:n.crossOrigin,metadata:t.imageMetadata||null,parentResource:n},u=n.url.substr(0,n.url.lastIndexOf("/")+1);u=u.replace(this.baseUrl,"");var c=t.images?m(t.images):t.image?m({default:t.image}):t.imageLoader?t.imageLoader(this,n.name+"_atlas_page_",u,h):d(this,n.name+"_atlas_page_",u,h),p=function(t){new f.core.TextureAtlas(t,c,function(t){var e=new f.core.SkeletonJson(new f.core.AtlasAttachmentLoader(t));i&&(e.scale=i),n.spineData=e.readSkeletonData(n.data),n.spineAtlas=t,r()})};n.metadata&&n.metadata.atlasRawData?p(n.metadata.atlasRawData):this.add(n.name+"_atlas",s,l,function(t){p(t.xhr.responseText)})}}function d(i,a,o,s){return o&&o.lastIndexOf("/")!==o.length-1&&(o+="/"),function(t,e){var n=a+t,r=o+t;i.add(n,r,s,function(t){e(t.texture.baseTexture)})}}function m(r){return function(t,e){var n=r[t]||r.default;n&&n.baseTexture?e(n.baseTexture):e(n)}}f.atlasParser=t,f.imageLoaderAdapter=d,f.syncImageLoaderAdapter=function(t,n){return t&&t.lastIndexOf("/")!==t.length-1&&(t+="/"),function(t,e){e(PIXI.BaseTexture.fromImage(t,n))}},f.staticImageLoader=m,PIXI.loaders.Loader.addPixiMiddleware(t),PIXI.loader.use(t())}(pixi_spine||(pixi_spine={})),function(){var e;Math.fround||(Math.fround=Math.fround=(e=new Float32Array(1),function(t){return e[0]=t,e[0]}))}(),function(C){C.core.Bone.yDown=!0;var _=[0,0,0],n=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.region=null,t}return __extends(t,e),t}(PIXI.Sprite);C.SpineSprite=n;var a=function(a){function t(t,e,n,r,i){return a.call(this,t,e,n,r,i)||this}return __extends(t,a),t}(PIXI.mesh.Mesh);C.SpineMesh=a;var t=function(u){function e(t){var e=u.call(this)||this;if(!t)throw new Error("The spineData param is required.");if("string"==typeof t)throw new Error('spineData param cant be string. Please use spine.Spine.fromAtlas("YOUR_RESOURCE_NAME") from now on.');e.spineData=t,e.skeleton=new C.core.Skeleton(t),e.skeleton.updateWorldTransform(),e.stateData=new C.core.AnimationStateData(t),e.state=new C.core.AnimationState(e.stateData),e.slotContainers=[],e.tempClipContainers=[];for(var n=0,r=e.skeleton.slots.length;n<r;n++){var i=e.skeleton.slots[n],a=i.attachment,o=e.newContainer();if(e.slotContainers.push(o),e.addChild(o),e.tempClipContainers.push(null),a instanceof C.core.RegionAttachment){var s=a.region.name,l=e.createSprite(i,a,s);i.currentSprite=l,i.currentSpriteName=s,o.addChild(l)}else if(a instanceof C.core.MeshAttachment){var h=e.createMesh(i,a);i.currentMesh=h,i.currentMeshName=a.name,o.addChild(h)}else{if(!(a instanceof C.core.ClippingAttachment))continue;e.createGraphics(i,a),o.addChild(i.clippingContainer),o.addChild(i.currentGraphics)}}return e.autoUpdate=!0,e.tintRgb=new Float32Array([1,1,1]),e}return __extends(e,u),Object.defineProperty(e.prototype,"autoUpdate",{get:function(){return this.updateTransform===e.prototype.autoUpdateTransform},set:function(t){this.updateTransform=t?e.prototype.autoUpdateTransform:PIXI.Container.prototype.updateTransform},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return PIXI.utils.rgb2hex(this.tintRgb)},set:function(t){this.tintRgb=PIXI.utils.hex2rgb(t,this.tintRgb)},enumerable:!0,configurable:!0}),e.prototype.update=function(t){this.state.update(t),this.state.apply(this.skeleton),this.skeleton.updateWorldTransform();var e=this.skeleton.slots,n=this.color,r=null,i=null;n?(r=n.light,i=n.dark):r=this.tintRgb;for(var a=PIXI.TransformBase&&1==this.transformHack(),o=0,s=e.length;o<s;o++){var l=(R=e[o]).attachment,h=this.slotContainers[o];if(l){var u=null,c=l.color;if(l instanceof C.core.RegionAttachment){var p=l.region;if(p){R.currentMesh&&(R.currentMesh.visible=!1,R.currentMesh=null,R.currentMeshName=void 0);var f=p;if(!R.currentSpriteName||R.currentSpriteName!==f.name){var d=f.name;if(R.currentSprite&&(R.currentSprite.visible=!1),R.sprites=R.sprites||{},void 0!==R.sprites[d])R.sprites[d].visible=!0;else{var m=this.createSprite(R,l,d);h.addChild(m)}R.currentSprite=R.sprites[d],R.currentSpriteName=d}}if(h.transform){var g=y=h.transform,v=null;g.matrix2d?(v=g.matrix2d,g._dirtyVersion++,g.version=g._dirtyVersion,g.isStatic=!0,g.operMode=0):a?(g.position&&((y=new PIXI.TransformBase)._parentID=-1,y._worldID=h.transform._worldID,h.transform=y),v=y.localTransform):g.setFromMatrix(R.bone.matrix),v&&R.bone.matrix.copy(v)}else{v=h.localTransform||new PIXI.Matrix;R.bone.matrix.copy(v),h.localTransform=v,h.displayObjectUpdateTransform=V}R.currentSprite.color?u=R.currentSprite.color:(_[0]=r[0]*R.color.r*c.r,_[1]=r[1]*R.color.g*c.g,_[2]=r[2]*R.color.b*c.b,R.currentSprite.tint=PIXI.utils.rgb2hex(_)),R.currentSprite.blendMode=R.blendMode}else if(l instanceof C.core.MeshAttachment){var y;if(R.currentSprite)if(R.currentSprite.visible=!1,R.currentSprite=null,R.currentSpriteName=void 0,h.transform)(y=new PIXI.TransformStatic)._parentID=-1,y._worldID=h.transform._worldID,h.transform=y;else h.localTransform=new PIXI.Matrix,h.displayObjectUpdateTransform=PIXI.DisplayObject.prototype.updateTransform;if(!R.currentMeshName||R.currentMeshName!==l.name){var x=l.name;if(R.currentMesh&&(R.currentMesh.visible=!1),R.meshes=R.meshes||{},void 0!==R.meshes[x])R.meshes[x].visible=!0;else{var M=this.createMesh(R,l);h.addChild(M)}R.currentMesh=R.meshes[x],R.currentMeshName=x}if(l.computeWorldVerticesOld(R,R.currentMesh.vertices),R.currentMesh.color)u=R.currentMesh.color;else if("3"!==PIXI.VERSION[0]){var w=R.currentMesh.tintRgb;w[0]=r[0]*R.color.r*c.r,w[1]=r[1]*R.color.g*c.g,w[2]=r[2]*R.color.b*c.b}R.currentMesh.blendMode=R.blendMode}else{if(!(l instanceof C.core.ClippingAttachment)){h.visible=!1;continue}R.currentGraphics||(this.createGraphics(R,l),h.addChild(R.clippingContainer),h.addChild(R.currentGraphics)),this.updateGraphics(R,l)}if(h.visible=!0,u){var E=R.color.r*c.r,T=R.color.g*c.g,b=R.color.b*c.b;u.setLight(r[0]*E+i[0]*(1-E),r[1]*T+i[1]*(1-T),r[2]*b+i[2]*(1-b)),R.darkColor?(E=R.darkColor.r,T=R.darkColor.g,b=R.darkColor.b):b=T=E=0,u.setDark(r[0]*E+i[0]*(1-E),r[1]*T+i[1]*(1-T),r[2]*b+i[2]*(1-b))}h.alpha=R.color.a}else h.visible=!1}var A=this.skeleton.drawOrder,I=null,S=null;for(o=0,s=A.length;o<s;o++){var R=e[A[o].data.index];h=this.slotContainers[A[o].data.index];if(S||h.parent!==this&&(h.parent.removeChild(h),h.parent=this),R.currentGraphics&&R.attachment)S=R.clippingContainer,I=R.attachment,S.children.length=0,this.children[o]=h,I.endSlot==R.data&&(I.endSlot=null);else if(S){var P=this.tempClipContainers[o];P||((P=this.tempClipContainers[o]=this.newContainer()).visible=!1),this.children[o]=P,h.parent=null,S.addChild(h),I.endSlot==R.data&&(S.renderable=!0,I=S=null)}else this.children[o]=h}},e.prototype.setSpriteRegion=function(t,e,n){e.region=n,e.texture=n.texture,n.size?(e.scale.x=n.size.width/n.originalWidth,e.scale.y=-n.size.height/n.originalHeight):(e.scale.x=t.scaleX*t.width/n.originalWidth,e.scale.y=-t.scaleY*t.height/n.originalHeight)},e.prototype.setMeshRegion=function(t,e,n){e.region=n,e.texture=n.texture,n.texture._updateUvs(),t.updateUVs(n,e.uvs),e.dirty++},e.prototype.autoUpdateTransform=function(){if(e.globalAutoUpdate){this.lastTime=this.lastTime||Date.now();var t=.001*(Date.now()-this.lastTime);this.lastTime=Date.now(),this.update(t)}else this.lastTime=0;PIXI.Container.prototype.updateTransform.call(this)},e.prototype.createSprite=function(t,e,n){var r=e.region;t.tempAttachment===e&&(r=t.tempRegion,t.tempAttachment=null,t.tempRegion=null);var i=r.texture,a=this.newSprite(i);return a.rotation=e.rotation*C.core.MathUtils.degRad,a.anchor.x=.5,a.anchor.y=.5,a.position.x=e.x,a.position.y=e.y,a.alpha=e.color.a,a.region=e.region,this.setSpriteRegion(e,a,e.region),t.sprites=t.sprites||{},t.sprites[n]=a},e.prototype.createMesh=function(t,e){var n=e.region;t.tempAttachment===e&&(n=t.tempRegion,t.tempAttachment=null,t.tempRegion=null);var r=this.newMesh(n.texture,new Float32Array(e.regionUVs.length),new Float32Array(e.regionUVs.length),new Uint16Array(e.triangles),PIXI.mesh.Mesh.DRAW_MODES.TRIANGLES);return r.canvasPadding=1.5,r.alpha=e.color.a,r.region=e.region,this.setMeshRegion(e,r,n),t.meshes=t.meshes||{},t.meshes[e.name]=r},e.prototype.createGraphics=function(t,e){var n=this.newGraphics(),r=new PIXI.Polygon([]);return n.clear(),n.beginFill(16777215,1),n.drawPolygon(r),n.renderable=!1,t.currentGraphics=n,t.clippingContainer=this.newContainer(),t.clippingContainer.mask=t.currentGraphics,n},e.prototype.updateGraphics=function(t,e){var n=t.currentGraphics.graphicsData[0].shape.points,r=e.worldVerticesLength;n.length=r,e.computeWorldVertices(t,0,r,n,0,2),t.currentGraphics.dirty++,t.currentGraphics.clearDirty++},e.prototype.hackTextureBySlotIndex=function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=null);var r=this.skeleton.slots[t];if(!r)return!1;var i=r.attachment,a=i.region;return e&&((a=new C.core.TextureRegion).texture=e,a.size=n),r.currentSprite&&r.currentSprite.region!=a?(this.setSpriteRegion(i,r.currentSprite,a),r.currentSprite.region=a):r.currentMesh&&r.currentMesh.region!=a?this.setMeshRegion(i,r.currentMesh,a):(r.tempRegion=a,r.tempAttachment=i),!0},e.prototype.hackTextureBySlotName=function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=null);var r=this.skeleton.findSlotIndex(t);return-1!=r&&this.hackTextureBySlotIndex(r,e,n)},e.prototype.newContainer=function(){return new PIXI.Container},e.prototype.newSprite=function(t){return new n(t)},e.prototype.newGraphics=function(){return new PIXI.Graphics},e.prototype.newMesh=function(t,e,n,r,i){return new a(t,e,n,r,i)},e.prototype.transformHack=function(){return 1},e.globalAutoUpdate=!0,e.clippingPolygon=[],e}(PIXI.Container);function V(){var t=this.parent.worldTransform,e=this.worldTransform,n=this.localTransform;e.a=n.a*t.a+n.b*t.c,e.b=n.a*t.b+n.b*t.d,e.c=n.c*t.a+n.d*t.c,e.d=n.c*t.b+n.d*t.d,e.tx=n.tx*t.a+n.ty*t.c+t.tx,e.ty=n.tx*t.b+n.ty*t.d+t.ty,this.worldAlpha=this.alpha*this.parent.worldAlpha,this._currentBounds=null}C.Spine=t}(pixi_spine||(pixi_spine={}));